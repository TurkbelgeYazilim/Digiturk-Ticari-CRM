{
    "sourceFile": "email_charset_debug.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1760108046708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1760108046708,
            "name": "Commit-0",
            "content": "<?php\r\n// E-posta encoding problemini Ã§Ã¶zmek iÃ§in kapsamlÄ± test\r\necho \"<h2>âœ‰ï¸ E-posta TÃ¼rkÃ§e Karakter Test SonuÃ§larÄ±</h2>\";\r\n\r\n// Test 1: Karakter encoding kontrolÃ¼\r\necho \"<h3>1. Karakter Encoding Test</h3>\";\r\n$test_chars = \"Ã‡ÄIÄ°Ã–ÅÃœ Ã§ÄŸÄ±iÃ¶ÅŸÃ¼\";\r\necho \"<p><strong>Test karakterleri:</strong> $test_chars</p>\";\r\necho \"<p><strong>UTF-8 encoding:</strong> \" . (mb_check_encoding($test_chars, 'UTF-8') ? \"âœ… GeÃ§erli\" : \"âŒ GeÃ§ersiz\") . \"</p>\";\r\n\r\n// Test 2: HTML meta charset kontrolÃ¼\r\necho \"<h3>2. HTML Meta Charset Test</h3>\";\r\n$html_content = '\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n    <meta charset=\"UTF-8\">\r\n</head>\r\n<body>\r\n    <h1>Ä°lekaSoft CRM</h1>\r\n    <p>TÃ¼rkÃ§e karakterler: Ã‡ÄIÄ°Ã–ÅÃœ Ã§ÄŸÄ±iÃ¶ÅŸÃ¼</p>\r\n    <p>Ã–zel karakterler: â‚¬â‚¬â‚¬ â‚ºâ‚ºâ‚º</p>\r\n</body>\r\n</html>';\r\n\r\necho \"<div style='border:1px solid #ddd; padding:10px; background:#f9f9f9;'>\";\r\necho htmlspecialchars($html_content);\r\necho \"</div>\";\r\n\r\n// Test 3: CodeIgniter e-posta konfigÃ¼rasyon simÃ¼lasyonu\r\necho \"<h3>3. Mail Config Test</h3>\";\r\n$optimal_config = array(\r\n    'protocol' => 'smtp',\r\n    'smtp_crypto' => 'tls',\r\n    'smtp_host' => 'smtp.gmail.com',\r\n    'smtp_port' => 587,\r\n    'charset' => 'utf-8',\r\n    'mailtype' => 'html',\r\n    'wordwrap' => FALSE,\r\n    'newline' => \"\\\\r\\\\n\",\r\n    'crlf' => \"\\\\r\\\\n\",\r\n    'dsn' => FALSE,\r\n    'multipart' => 'mixed'\r\n);\r\n\r\necho \"<table border='1' style='border-collapse:collapse;'>\";\r\necho \"<tr><th>Parametre</th><th>DeÄŸer</th><th>AÃ§Ä±klama</th></tr>\";\r\nforeach($optimal_config as $key => $value) {\r\n    $aciklama = '';\r\n    switch($key) {\r\n        case 'charset': $aciklama = 'UTF-8 TÃ¼rkÃ§e karakter desteÄŸi'; break;\r\n        case 'wordwrap': $aciklama = 'FALSE = HTML bozulmayÄ± Ã¶nler'; break;\r\n        case 'multipart': $aciklama = 'MIME Ã§oklu parÃ§a formatÄ±'; break;\r\n        case 'dsn': $aciklama = 'Teslimat bildirimini devre dÄ±ÅŸÄ± bÄ±rak'; break;\r\n    }\r\n    echo \"<tr><td>$key</td><td>\" . (is_bool($value) ? ($value ? 'TRUE' : 'FALSE') : $value) . \"</td><td>$aciklama</td></tr>\";\r\n}\r\necho \"</table>\";\r\n\r\n// Test 4: MIME header kontrolÃ¼\r\necho \"<h3>4. MIME Header Test</h3>\";\r\n$headers = array(\r\n    'Content-Type' => 'text/html; charset=UTF-8',\r\n    'Content-Transfer-Encoding' => '8bit',\r\n    'MIME-Version' => '1.0'\r\n);\r\n\r\necho \"<ul>\";\r\nforeach($headers as $header => $value) {\r\n    echo \"<li><strong>$header:</strong> $value</li>\";\r\n}\r\necho \"</ul>\";\r\n\r\n// Test 5: GÃ¼ncel zaman ve karakter set\r\necho \"<h3>5. Server Bilgileri</h3>\";\r\necho \"<ul>\";\r\necho \"<li><strong>PHP SÃ¼rÃ¼mÃ¼:</strong> \" . phpversion() . \"</li>\";\r\necho \"<li><strong>VarsayÄ±lan Charset:</strong> \" . ini_get('default_charset') . \"</li>\";\r\necho \"<li><strong>Mbstring DesteÄŸi:</strong> \" . (extension_loaded('mbstring') ? 'âœ… Aktif' : 'âŒ Pasif') . \"</li>\";\r\necho \"<li><strong>Ä°conv DesteÄŸi:</strong> \" . (extension_loaded('iconv') ? 'âœ… Aktif' : 'âŒ Pasif') . \"</li>\";\r\necho \"<li><strong>Server ZamanÄ±:</strong> \" . date('d.m.Y H:i:s') . \"</li>\";\r\necho \"</ul>\";\r\n\r\n// Test 6: E-posta iÃ§erik simÃ¼lasyonu\r\necho \"<h3>6. E-posta Ä°Ã§erik SimÃ¼lasyonu</h3>\";\r\n$mail_subject = \"Ä°lekaSoft CRM - Destek Talebi #12345\";\r\n$mail_body = \"\r\n<div style='font-family: Arial, sans-serif;'>\r\n    <h2>ğŸ« Yeni Destek Talebi</h2>\r\n    <p>Merhaba,</p>\r\n    <p>Bir destek talebi oluÅŸturuldu. TÃ¼rkÃ§e karakterler: Ã‡ÄIÄ°Ã–ÅÃœ Ã§ÄŸÄ±iÃ¶ÅŸÃ¼</p>\r\n    <div style='background:#f8f9fa; padding:15px; border-left:4px solid #007bff;'>\r\n        <h4>ğŸ“‹ Talep Bilgileri</h4>\r\n        <p><strong>BaÅŸlÄ±k:</strong> TÃ¼rkÃ§e karakter testi</p>\r\n        <p><strong>AÃ§Ä±klama:</strong> Bu mesaj Ã§ÄŸÄ±iÅŸÃ¶Ã¼ karakterlerini test ediyor.</p>\r\n    </div>\r\n    <p>Â© Ä°lekaSoft - TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>\r\n</div>\";\r\n\r\necho \"<div style='border:2px solid #007bff; padding:15px; background:#f8f9fa;'>\";\r\necho \"<h4>Konu: $mail_subject</h4>\";\r\necho \"<div>$mail_body</div>\";\r\necho \"</div>\";\r\n\r\n// Test 7: Encoding fonksiyonlarÄ±\r\necho \"<h3>7. Encoding Fonksiyon Testleri</h3>\";\r\n$test_string = \"Ä°lekaSoft CRM Destek Sistemi - Ã‡Ã¶zÃ¼m Ã¶ÄŸÃ¼ÅŸtÃ¼\";\r\n\r\necho \"<table border='1' style='border-collapse:collapse;'>\";\r\necho \"<tr><th>Fonksiyon</th><th>SonuÃ§</th></tr>\";\r\necho \"<tr><td>htmlspecialchars()</td><td>\" . htmlspecialchars($test_string) . \"</td></tr>\";\r\necho \"<tr><td>html_entity_decode()</td><td>\" . html_entity_decode($test_string) . \"</td></tr>\";\r\necho \"<tr><td>utf8_encode()</td><td>\" . utf8_encode($test_string) . \"</td></tr>\";\r\necho \"<tr><td>mb_convert_encoding()</td><td>\" . mb_convert_encoding($test_string, 'UTF-8', 'auto') . \"</td></tr>\";\r\necho \"</table>\";\r\n\r\necho \"<hr><p><strong>Test tamamlandÄ±:</strong> \" . date('d.m.Y H:i:s') . \"</p>\";\r\necho \"<p><em>Bu dosya: email_charset_debug.php</em></p>\";\r\n?>"
        }
    ]
}