{
    "sourceFile": "stok_dropdown_test.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1756810205232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1756810205232,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <title>Stok Dropdown Test</title>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css\"/>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css\"/>\r\n</head>\r\n<body>\r\n<div class=\"container mt-5\">\r\n    <h2>Stok Dropdown Test</h2>\r\n    <div class=\"row\">\r\n        <div class=\"col-6\">\r\n            <label>Stok Seçiniz:</label>\r\n            <select class=\"form-control\" id=\"stokTest\" style=\"width: 100%;\">\r\n                <option value=\"\">Stok seçiniz...</option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"mt-3\">\r\n        <h5>Seçilen Stok Bilgileri:</h5>\r\n        <div id=\"seciliStokBilgi\"></div>\r\n    </div>\r\n</div>\r\n\r\n<script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js\"></script>\r\n\r\n<script>\r\n$(document).ready(function() {\r\n    $('#stokTest').select2({\r\n        theme: 'bootstrap-5',\r\n        placeholder: 'Stok seçiniz...',\r\n        allowClear: true,\r\n        ajax: {\r\n            url: 'stok_dropdown_endpoint.php',\r\n            dataType: 'json',\r\n            delay: 250,\r\n            data: function (params) {\r\n                return {\r\n                    q: params.term,\r\n                    page: params.page || 1\r\n                };\r\n            },\r\n            processResults: function (data, params) {\r\n                console.log('API Response:', data);\r\n                \r\n                return {\r\n                    results: data.results || [],\r\n                    pagination: {\r\n                        more: data.pagination && data.pagination.more\r\n                    }\r\n                };\r\n            },\r\n            cache: true\r\n        },\r\n        minimumInputLength: 0\r\n    }).on('select2:select', function (e) {\r\n        const selectedData = e.params.data;\r\n        console.log('Selected:', selectedData);\r\n        \r\n        if (selectedData.stok_data) {\r\n            const stokInfo = selectedData.stok_data;\r\n            $('#seciliStokBilgi').html(`\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <h6>${stokInfo.stok_ad}</h6>\r\n                        <p><strong>Stok ID:</strong> ${stokInfo.stok_id}</p>\r\n                        <p><strong>Stok Kodu:</strong> ${stokInfo.stok_kodu || 'Yok'}</p>\r\n                        <p><strong>Satış Fiyatı:</strong> ${stokInfo.stok_satisFiyati || 'Belirtilmemiş'} ₺</p>\r\n                        <p><strong>KDV Oranı:</strong> %${stokInfo.stok_satisKDV || '0'}</p>\r\n                    </div>\r\n                </div>\r\n            `);\r\n        }\r\n    });\r\n});\r\n</script>\r\n</body>\r\n</html>\r\n"
        }
    ]
}