{
    "sourceFile": "session_debug.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1754641529385,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1754641529385,
            "name": "Commit-0",
            "content": "<?php\r\n// Session Debug ve Test SayfasÄ±\r\necho \"<h1>ğŸ” Session Debug ve Test</h1>\";\r\n\r\n// Session baÅŸlat ve detaylÄ± bilgi ver\r\nif (session_status() === PHP_SESSION_NONE) {\r\n    echo \"<p>ğŸ”„ Session baÅŸlatÄ±lÄ±yor...</p>\";\r\n    session_start();\r\n}\r\n\r\nif (session_status() === PHP_SESSION_ACTIVE) {\r\n    echo \"<div style='background: #d4edda; color: #155724; padding: 10px; border-radius: 5px; margin: 10px 0;'>\";\r\n    echo \"<h2>âœ… Session BaÅŸarÄ±yla Ã‡alÄ±ÅŸÄ±yor</h2>\";\r\n    echo \"<p><strong>Session ID:</strong> \" . session_id() . \"</p>\";\r\n    echo \"<p><strong>Session Durumu:</strong> Aktif</p>\";\r\n    echo \"</div>\";\r\n    \r\n    // Test verisi ekle\r\n    $_SESSION['debug_test'] = 'Session Ã§alÄ±ÅŸÄ±yor - ' . date('Y-m-d H:i:s');\r\n    $_SESSION['user_test'] = 'Test kullanÄ±cÄ±sÄ±';\r\n    $_SESSION['ip_address'] = $_SERVER['REMOTE_ADDR'] ?? 'Bilinmiyor';\r\n    \r\n    echo \"<h2>ğŸ“¦ Session Ä°Ã§eriÄŸi:</h2>\";\r\n    echo \"<pre style='background: #f8f9fa; padding: 10px; border-radius: 5px;'>\";\r\n    print_r($_SESSION);\r\n    echo \"</pre>\";\r\n    \r\n} else {\r\n    echo \"<div style='background: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px; margin: 10px 0;'>\";\r\n    echo \"<h2>âŒ Session BaÅŸlatÄ±lamadÄ±</h2>\";\r\n    echo \"<p>Session durumu: \" . session_status() . \"</p>\";\r\n    echo \"</div>\";\r\n}\r\n\r\n// Session ayarlarÄ±nÄ± detaylÄ± gÃ¶ster\r\necho \"<h2>âš™ï¸ DetaylÄ± Session AyarlarÄ±:</h2>\";\r\necho \"<table border='1' style='border-collapse: collapse; width: 100%;'>\";\r\necho \"<tr><th style='padding: 8px; background: #e9ecef;'>Ayar</th><th style='padding: 8px; background: #e9ecef;'>DeÄŸer</th></tr>\";\r\n\r\n$session_settings = [\r\n    'session.save_path' => ini_get('session.save_path'),\r\n    'session.save_handler' => ini_get('session.save_handler'),\r\n    'session.use_cookies' => ini_get('session.use_cookies') ? 'Evet' : 'HayÄ±r',\r\n    'session.use_only_cookies' => ini_get('session.use_only_cookies') ? 'Evet' : 'HayÄ±r',\r\n    'session.cookie_httponly' => ini_get('session.cookie_httponly') ? 'Evet' : 'HayÄ±r',\r\n    'session.cookie_secure' => ini_get('session.cookie_secure') ? 'Evet' : 'HayÄ±r',\r\n    'session.gc_maxlifetime' => ini_get('session.gc_maxlifetime') . ' saniye',\r\n    'session.cookie_lifetime' => ini_get('session.cookie_lifetime') . ' saniye',\r\n    'session.name' => ini_get('session.name'),\r\n    'session.auto_start' => ini_get('session.auto_start') ? 'Evet' : 'HayÄ±r',\r\n];\r\n\r\nforeach ($session_settings as $setting => $value) {\r\n    echo \"<tr><td style='padding: 8px;'>$setting</td><td style='padding: 8px;'>$value</td></tr>\";\r\n}\r\necho \"</table>\";\r\n\r\n// Session klasÃ¶rÃ¼ kontrolÃ¼\r\necho \"<h2>ğŸ“ Session KlasÃ¶rÃ¼ KontrolÃ¼:</h2>\";\r\n$session_path = ini_get('session.save_path');\r\nif ($session_path) {\r\n    if (is_dir($session_path)) {\r\n        echo \"<p>âœ… Session klasÃ¶rÃ¼ mevcut: <code>$session_path</code></p>\";\r\n        \r\n        if (is_writable($session_path)) {\r\n            echo \"<p>âœ… Session klasÃ¶rÃ¼ yazÄ±labilir</p>\";\r\n            \r\n            // Session dosyalarÄ±nÄ± listele\r\n            $session_files = glob($session_path . '/sess_*');\r\n            if ($session_files) {\r\n                echo \"<p>ğŸ“„ Session dosyalarÄ±: \" . count($session_files) . \" adet</p>\";\r\n                echo \"<details><summary>Session dosyalarÄ±nÄ± gÃ¶ster</summary>\";\r\n                echo \"<ul>\";\r\n                foreach (array_slice($session_files, 0, 10) as $file) {\r\n                    $file_time = filemtime($file);\r\n                    echo \"<li>\" . basename($file) . \" - \" . date('Y-m-d H:i:s', $file_time) . \"</li>\";\r\n                }\r\n                if (count($session_files) > 10) {\r\n                    echo \"<li>... ve \" . (count($session_files) - 10) . \" adet daha</li>\";\r\n                }\r\n                echo \"</ul></details>\";\r\n            } else {\r\n                echo \"<p>â„¹ï¸ HenÃ¼z session dosyasÄ± yok</p>\";\r\n            }\r\n        } else {\r\n            echo \"<p>âŒ Session klasÃ¶rÃ¼ yazÄ±labilir deÄŸil</p>\";\r\n        }\r\n    } else {\r\n        echo \"<p>âŒ Session klasÃ¶rÃ¼ bulunamadÄ±: <code>$session_path</code></p>\";\r\n    }\r\n} else {\r\n    echo \"<p>âŒ Session save path tanÄ±mlanmamÄ±ÅŸ</p>\";\r\n}\r\n\r\n// CodeIgniter session test\r\necho \"<h2>ğŸš€ CodeIgniter Session Test:</h2>\";\r\nif (file_exists('system/libraries/Session/Session.php')) {\r\n    echo \"<p>âœ… CodeIgniter Session kÃ¼tÃ¼phanesi mevcut</p>\";\r\n    \r\n    // CodeIgniter config kontrolÃ¼\r\n    if (file_exists('application/config/config.php')) {\r\n        $config_content = file_get_contents('application/config/config.php');\r\n        \r\n        // Session ayarlarÄ±nÄ± config'den Ã§ek\r\n        if (preg_match(\"/\\\\\\$config\\['sess_save_path'\\]\\s*=\\s*'([^']+)'/\", $config_content, $matches)) {\r\n            echo \"<p>âœ… CodeIgniter sess_save_path: <code>\" . $matches[1] . \"</code></p>\";\r\n        }\r\n        \r\n        if (preg_match(\"/\\\\\\$config\\['sess_driver'\\]\\s*=\\s*'([^']+)'/\", $config_content, $matches)) {\r\n            echo \"<p>âœ… CodeIgniter sess_driver: <code>\" . $matches[1] . \"</code></p>\";\r\n        }\r\n    }\r\n} else {\r\n    echo \"<p>âŒ CodeIgniter Session kÃ¼tÃ¼phanesi bulunamadÄ±</p>\";\r\n}\r\n\r\n// Test sonucu\r\necho \"<h2>ğŸ¯ Test Sonucu:</h2>\";\r\nif (session_status() === PHP_SESSION_ACTIVE && is_dir($session_path) && is_writable($session_path)) {\r\n    echo \"<div style='background: #d1ecf1; color: #0c5460; padding: 15px; border-radius: 5px; border: 1px solid #bee5eb;'>\";\r\n    echo \"<h3>ğŸ‰ Session Sistemi Tamamen Ã‡alÄ±ÅŸÄ±yor!</h3>\";\r\n    echo \"<p>âœ… PHP Session: Aktif</p>\";\r\n    echo \"<p>âœ… Session KlasÃ¶rÃ¼: YazÄ±labilir</p>\";\r\n    echo \"<p>âœ… CodeIgniter: Uyumlu</p>\";\r\n    echo \"<p><strong>/check sayfasÄ± artÄ±k session hatasÄ± vermeyecek!</strong></p>\";\r\n    echo \"</div>\";\r\n} else {\r\n    echo \"<div style='background: #f8d7da; color: #721c24; padding: 15px; border-radius: 5px; border: 1px solid #f5c6cb;'>\";\r\n    echo \"<h3>âš ï¸ BazÄ± Sorunlar Var</h3>\";\r\n    echo \"<p>YukarÄ±daki bilgileri kontrol edin ve gerekli dÃ¼zeltmeleri yapÄ±n.</p>\";\r\n    echo \"</div>\";\r\n}\r\n\r\necho \"<hr>\";\r\necho \"<p><strong>Son Test:</strong> \" . date('Y-m-d H:i:s') . \"</p>\";\r\necho \"<p><a href='/test_check.php'>ğŸ”™ Ana Test SayfasÄ±na DÃ¶n</a> | <a href='/check'>ğŸš€ Check SayfasÄ±nÄ± Test Et</a></p>\";\r\n?>\r\n"
        }
    ]
}