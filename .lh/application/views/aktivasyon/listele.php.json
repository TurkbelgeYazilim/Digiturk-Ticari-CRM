{
    "sourceFile": "application/views/aktivasyon/listele.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1757431617551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1757431617551,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n\r\n<html lang=\"tr\">\r\n\r\n<head>\r\n\r\n    <?php $this->load->view(\"include/head-tags\"); ?>\r\n\r\n    <link rel=\"stylesheet\" href=\"https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap4.min.css\">\r\n\r\n    <style>\r\n\r\n        .card {\r\n\r\n            border-radius: 10px;\r\n\r\n            box-shadow: 0 4px 8px rgba(0,0,0,0.1);\r\n\r\n        }\r\n\r\n        .btn-primary {\r\n\r\n            background-color: #5c2d91;\r\n\r\n            border-color: #5c2d91;\r\n\r\n        }\r\n\r\n        .btn-primary:hover {\r\n\r\n            background-color: #4a2373;\r\n\r\n            border-color: #4a2373;\r\n\r\n        }\r\n\r\n        .table th {\r\n\r\n            background-color: #f8f9fa;\r\n\r\n            border-color: #dee2e6;\r\n\r\n        }\r\n\r\n        .badge {\r\n\r\n            font-size: 0.875em;\r\n\r\n        }\r\n\r\n    </style>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n<!-- Main Wrapper -->\r\n\r\n<div class=\"main-wrapper\">\r\n\r\n    <!-- Header -->\r\n\r\n    <?php $this->load->view(\"include/header\"); ?>\r\n\r\n    <!-- /Header -->\r\n\r\n\r\n\r\n    <!-- Sidebar -->\r\n\r\n    <?php $this->load->view(\"include/sidebar\"); ?>\r\n\r\n    <!-- /Sidebar -->\r\n\r\n\r\n\r\n    <!-- Page Wrapper -->\r\n\r\n    <div class=\"page-wrapper\">\r\n\r\n        <div class=\"content container-fluid\">\r\n\r\n            <!-- Page Header -->\r\n\r\n            <div class=\"page-header\">\r\n\r\n                <div class=\"row\">\r\n\r\n                    <div class=\"col-sm-10\">\r\n\r\n                        <h3 class=\"page-title\">Aktivasyon Listesi</h3>\r\n\r\n                        <ul class=\"breadcrumb\">\r\n\r\n                            <li class=\"breadcrumb-item\"><a href=\"<?= base_url(); ?>\">Anasayfa</a></li>\r\n\r\n                            <li class=\"breadcrumb-item\"><a href=\"<?= base_url('aktivasyon'); ?>\">Aktivasyon</a></li>\r\n\r\n                            <li class=\"breadcrumb-item active\">Liste</li>\r\n\r\n                        </ul>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"d-flex justify-content-end text-align-center col-sm-2\">\r\n\r\n                        <a class=\"btn btn-outline-light\" href=\"javascript:history.back()\">\r\n\r\n                            <i class=\"fa fa-history\"></i><br>Önceki Sayfa\r\n\r\n                        </a>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <!-- /Page Header -->\r\n\r\n\r\n\r\n            <!-- Flash Messages -->\r\n\r\n            <?php if($this->session->flashdata('success')): ?>\r\n\r\n                <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n\r\n                    <?= $this->session->flashdata('success') ?>\r\n\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n\r\n                    </button>\r\n\r\n                </div>\r\n\r\n            <?php endif; ?>\r\n\r\n\r\n\r\n            <?php if($this->session->flashdata('error')): ?>\r\n\r\n                <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n\r\n                    <?= $this->session->flashdata('error') ?>\r\n\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n\r\n                    </button>\r\n\r\n                </div>\r\n\r\n            <?php endif; ?>\r\n\r\n\r\n\r\n            <div class=\"row\">\r\n\r\n                <div class=\"col-md-12\">\r\n\r\n                    <div class=\"card\">\r\n\r\n                        <div class=\"card-header\">\r\n\r\n                            <h4 class=\"card-title d-inline-block\">Aktivasyon Listesi</h4>\r\n\r\n                            <?php if(grup_modul_yetkisi_var(901)): ?>\r\n\r\n                                <a href=\"<?= base_url('aktivasyon/olustur') ?>\" class=\"btn btn-primary float-right\">\r\n\r\n                                    <i class=\"fa fa-plus\"></i> Yeni Aktivasyon\r\n\r\n                                </a>\r\n\r\n                            <?php endif; ?>\r\n\r\n                        </div>\r\n\r\n                        <div class=\"card-body\">\r\n\r\n                            <div class=\"table-responsive\">\r\n\r\n                                <table class=\"table table-striped table-bordered\" id=\"aktivasyonTable\">\r\n\r\n                                    <thead>\r\n\r\n                                        <tr>\r\n\r\n                                            <th>ID</th>\r\n\r\n                                            <th>Müşteri</th>\r\n\r\n                                            <th>Hizmet</th>\r\n\r\n                                            <th>Üye No</th>\r\n\r\n                                            <th>Kutu No</th>\r\n\r\n                                            <th>Kart No</th>\r\n\r\n                                            <th>Kampanya Kodu</th>\r\n\r\n                                            <th>Aktivasyon Tarihi</th>\r\n\r\n                                            <th>Durum</th>\r\n\r\n                                            <th>Açıklama</th>\r\n\r\n                                            <th>Oluşturan</th>\r\n\r\n                                            <th>Oluşturma Tarihi</th>\r\n\r\n                                            <th>Güncelleme Tarihi</th>\r\n\r\n                                            <?php if(grup_modul_yetkisi_var(901)): ?>\r\n\r\n                                            <th>İşlemler</th>\r\n\r\n                                            <?php endif; ?>\r\n\r\n                                        </tr>\r\n\r\n                                    </thead>\r\n\r\n                                    <tbody>\r\n\r\n                                        <?php if(isset($aktivasyonlar) && !empty($aktivasyonlar)): ?>\r\n\r\n                                            <?php foreach($aktivasyonlar as $aktivasyon): ?>\r\n\r\n                                            <tr>\r\n\r\n                                                <td><?= $aktivasyon->aktivasyon_id ?></td>\r\n\r\n                                                <td><?= $aktivasyon->cari_ad ?></td>\r\n\r\n                                                <td>\r\n\r\n                                                    <?php \r\n                                                        $hizmet_adi = '';\r\n                                                        $hizmet_renk = '';\r\n                                                        switch($aktivasyon->aktivasyon_stok) {\r\n                                                            case 1:\r\n                                                                $hizmet_adi = 'DIGITURK';\r\n                                                                $hizmet_renk = '#007bff'; // Mavi\r\n                                                                break;\r\n                                                            case 2:\r\n                                                                $hizmet_adi = 'S SPORT';\r\n                                                                $hizmet_renk = '#28a745'; // Yeşil\r\n                                                                break;\r\n                                                            case 3:\r\n                                                                $hizmet_adi = 'TABII';\r\n                                                                $hizmet_renk = '#fd7e14'; // Turuncu\r\n                                                                break;\r\n                                                            case 4:\r\n                                                                $hizmet_adi = 'EXXEN';\r\n                                                                $hizmet_renk = '#6f42c1'; // Mor\r\n                                                                break;\r\n                                                            default:\r\n                                                                $hizmet_adi = 'Bilinmiyor';\r\n                                                                $hizmet_renk = '#6c757d'; // Gri\r\n                                                        }\r\n                                                    ?>\r\n                                                    <span class=\"badge\" style=\"background-color: <?= $hizmet_renk ?>; color: white;\">\r\n                                                        <?= $hizmet_adi ?>\r\n                                                    </span>\r\n                                                </td>\r\n\r\n                                                <td><?= $aktivasyon->aktivasyon_uye_no ?: '-' ?></td>\r\n\r\n                                                <td><?= $aktivasyon->aktivasyon_kutu_no ?: '-' ?></td>\r\n\r\n                                                <td><?= $aktivasyon->aktivasyon_kart_no ?: '-' ?></td>\r\n\r\n                                                <td><?= $aktivasyon->aktivasyon_kampanya_kodu ?: '-' ?></td>\r\n\r\n                                                <td>\r\n\r\n                                                    <?= $aktivasyon->aktivasyon_tarihi ? \r\n\r\n                                                        date('d.m.Y H:i', strtotime($aktivasyon->aktivasyon_tarihi)) : '-' \r\n\r\n                                                    ?>\r\n\r\n                                                </td>\r\n\r\n                                                <td>\r\n\r\n                                                    <span class=\"badge\" style=\"background-color: <?= $aktivasyon->aktivasyon_durum_renk ?>; color: white;\">\r\n\r\n                                                        <?= $aktivasyon->aktivasyon_durum_adi ?>\r\n\r\n                                                    </span>\r\n\r\n                                                </td>\r\n\r\n                                                <td>\r\n\r\n                                                    <?php if($aktivasyon->aktivasyon_aciklama): ?>\r\n\r\n                                                        <span title=\"<?= htmlspecialchars($aktivasyon->aktivasyon_aciklama) ?>\">\r\n\r\n                                                            <?= strlen($aktivasyon->aktivasyon_aciklama) > 50 ? \r\n\r\n                                                                substr($aktivasyon->aktivasyon_aciklama, 0, 50) . '...' : \r\n\r\n                                                                $aktivasyon->aktivasyon_aciklama \r\n\r\n                                                            ?>\r\n\r\n                                                        </span>\r\n\r\n                                                    <?php else: ?>\r\n\r\n                                                        -\r\n\r\n                                                    <?php endif; ?>\r\n\r\n                                                </td>\r\n\r\n                                                <td><?= $aktivasyon->kullanici_ad ?: '-' ?></td>\r\n\r\n                                                <td><?= date('d.m.Y H:i', strtotime($aktivasyon->olusturma_tarihi)) ?></td>\r\n\r\n                                                <td><?= date('d.m.Y H:i', strtotime($aktivasyon->guncelleme_tarihi)) ?></td>\r\n\r\n                                                <?php if(grup_modul_yetkisi_var(901)): ?>\r\n\r\n                                                <td>\r\n\r\n                                                    <div class=\"btn-group\" role=\"group\">\r\n\r\n                                                        <a href=\"<?= base_url('aktivasyon/olustur/'.$aktivasyon->aktivasyon_id) ?>\" \r\n\r\n                                                           class=\"btn btn-sm btn-warning\" title=\"Düzenle\">\r\n\r\n                                                            <i class=\"fa fa-edit\"></i>\r\n\r\n                                                        </a>\r\n\r\n                                                        <a href=\"<?= base_url('aktivasyon/sil/'.$aktivasyon->aktivasyon_id) ?>\" \r\n\r\n                                                           class=\"btn btn-sm btn-danger\" title=\"Sil\"\r\n\r\n                                                           onclick=\"return confirm('Bu aktivasyonu silmek istediğinizden emin misiniz?')\">\r\n\r\n                                                            <i class=\"fa fa-trash\"></i>\r\n\r\n                                                        </a>\r\n\r\n                                                    </div>\r\n\r\n                                                </td>\r\n\r\n                                                <?php endif; ?>\r\n\r\n                                            </tr>\r\n\r\n                                            <?php endforeach; ?>\r\n\r\n                                        <?php endif; ?>\r\n\r\n                                    </tbody>\r\n\r\n                                </table>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n<?php $this->load->view(\"include/footer-js\"); ?>\r\n\r\n\r\n\r\n<script src=\"https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js\"></script>\r\n\r\n<script src=\"https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap4.min.js\"></script>\r\n\r\n<script>\r\n\r\n$(document).ready(function() {\r\n\r\n    $('#aktivasyonTable').DataTable({\r\n\r\n        \"language\": {\r\n\r\n            \"url\": \"//cdn.datatables.net/plug-ins/1.11.3/i18n/tr.json\"\r\n\r\n        },\r\n\r\n        \"order\": [[ 11, \"desc\" ]], // Oluşturma tarihine göre sırala (sütun indeksi 11 oldu)\r\n\r\n        \"pageLength\": 25,\r\n\r\n        \"responsive\": true,\r\n\r\n        \"columnDefs\": [\r\n\r\n            { \"orderable\": false, \"targets\": <?= grup_modul_yetkisi_var(901) ? \"[-1]\" : \"[]\" ?> } // İşlemler sütunu sıralanamaz\r\n\r\n        ]\r\n\r\n    });\r\n\r\n});\r\n\r\n</script>\r\n\r\n</body>\r\n\r\n</html>\r\n\r\n"
        }
    ]
}