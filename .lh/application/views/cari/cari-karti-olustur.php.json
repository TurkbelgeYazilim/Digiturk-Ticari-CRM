{
    "sourceFile": "application/views/cari/cari-karti-olustur.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1754904082231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757002108608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -392,8 +392,17 @@\n \t\t\t\t\t\t\t\t\t\t\t\t   maxlength=\"10\"  <?php if($modulSorgula) echo \"required\";?>\r\n \r\n \t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_firmaTelefon : '' ?>\">\r\n \r\n+\t\t\t\t\t\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t\t\t\t\t\t<!-- Personel Seçimi -->\r\n+\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t<label>Sorumlu Personel</label>\r\n+\t\t\t\t\t\t\t\t\t\t\t<select id=\"cari_olusturan\" name=\"cari_olusturan\" class=\"select2\" style=\"width: 100%\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Personel Seçiniz...</option>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<!-- Personel listesi AJAX ile yüklenecek -->\r\n+\t\t\t\t\t\t\t\t\t\t\t</select>\r\n \t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<!-- Fotoğraflar Yükleme Alanı -->\r\n \r\n \t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \r\n@@ -671,9 +680,11 @@\n \r\n <script>\r\n \r\n \t$(document).ready(function () {\r\n-\r\n+\t\t// Personel listesini yükle\r\n+\t\tloadPersonelList();\r\n+\t\t\r\n \t\t$('.ajaxIller').on('change', function (e) {\r\n \r\n \t\t\tvar base_url = \"<?php echo base_url();?>\";\r\n \r\n@@ -795,9 +806,95 @@\n \r\n <script src=\"https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js\" integrity=\"sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\r\n \r\n <script>\r\n+\t// Personel listesini yükle\r\n+\tfunction loadPersonelList() {\r\n+\t\tvar base_url = \"<?php echo base_url();?>\";\r\n+\t\t\r\n+\t\t$.ajax({\r\n+\t\t\turl: base_url + 'cari/getPersonelList',\r\n+\t\t\ttype: 'GET',\r\n+\t\t\tdataType: 'json',\r\n+\t\t\tsuccess: function(response) {\r\n+\t\t\t\tif (response.success) {\r\n+\t\t\t\t\tvar options = '<option value=\"\">Personel Seçiniz...</option>';\r\n+\t\t\t\t\t$.each(response.data, function(index, personel) {\r\n+\t\t\t\t\t\tvar selected = '';\r\n+\t\t\t\t\t\t<?php if(isset($cari) && $cari->cari_olusturan): ?>\r\n+\t\t\t\t\t\t\tif (personel.kullanici_id == '<?= $cari->cari_olusturan ?>') {\r\n+\t\t\t\t\t\t\t\tselected = 'selected';\r\n+\t\t\t\t\t\t\t}\r\n+\t\t\t\t\t\t<?php endif; ?>\r\n+\t\t\t\t\t\toptions += '<option value=\"' + personel.kullanici_id + '\" ' + selected + '>' + personel.kullanici_ad + ' ' + personel.kullanici_soyad + '</option>';\r\n+\t\t\t\t\t});\r\n+\t\t\t\t\t$('#cari_olusturan').html(options);\r\n+\t\t\t\t\t\r\n+\t\t\t\t\t// Select2 initialize et\r\n+\t\t\t\t\t$('#cari_olusturan').select2({\r\n+\t\t\t\t\t\tplaceholder: \"Personel seçiniz...\",\r\n+\t\t\t\t\t\tallowClear: true,\r\n+\t\t\t\t\t\tlanguage: {\r\n+\t\t\t\t\t\t\tnoResults: function() {\r\n+\t\t\t\t\t\t\t\treturn \"Sonuç bulunamadı\";\r\n+\t\t\t\t\t\t\t},\r\n+\t\t\t\t\t\t\tsearching: function() {\r\n+\t\t\t\t\t\t\t\treturn \"Aranıyor...\";\r\n+\t\t\t\t\t\t\t}\r\n+\t\t\t\t\t\t}\r\n+\t\t\t\t\t});\r\n+\t\t\t\t} else {\r\n+\t\t\t\t\tconsole.error('Personel listesi yüklenemedi:', response.message);\r\n+\t\t\t\t}\r\n+\t\t\t},\r\n+\t\t\terror: function(xhr, status, error) {\r\n+\t\t\t\tconsole.error('AJAX Hatası:', error);\r\n+\t\t\t}\r\n+\t\t});\r\n+\t}\r\n+\t\r\n+\t// Personel değiştiğinde cari_olusturan alanını güncelle\r\n+\t$(document).on('change', '#cari_olusturan', function() {\r\n+\t\tvar selectedPersonel = $(this).val();\r\n+\t\tvar selectedText = $(this).find('option:selected').text();\r\n+\t\t\r\n+\t\tif (selectedPersonel) {\r\n+\t\t\t// AJAX ile cari_olusturan alanını güncelle\r\n+\t\t\tvar cari_id = $('input[name=\"cari_id\"]').val();\r\n+\t\t\tif (cari_id) {\r\n+\t\t\t\tupdateCariOlusturan(cari_id, selectedPersonel, selectedText);\r\n+\t\t\t}\r\n+\t\t}\r\n+\t});\r\n+\t\r\n+\t// Cari oluşturan alanını güncelle\r\n+\tfunction updateCariOlusturan(cari_id, personel_id, personel_name) {\r\n+\t\tvar base_url = \"<?php echo base_url();?>\";\r\n+\t\t\r\n+\t\t$.ajax({\r\n+\t\t\turl: base_url + 'cari/updateCariOlusturan',\r\n+\t\t\ttype: 'POST',\r\n+\t\t\tdata: {\r\n+\t\t\t\tcari_id: cari_id,\r\n+\t\t\t\tcari_olusturan: personel_id\r\n+\t\t\t},\r\n+\t\t\tdataType: 'json',\r\n+\t\t\tsuccess: function(response) {\r\n+\t\t\t\tif (response.success) {\r\n+\t\t\t\t\ttoastr.success('Sorumlu personel güncellendi: ' + personel_name);\r\n+\t\t\t\t} else {\r\n+\t\t\t\t\ttoastr.error('Güncelleme hatası: ' + response.message);\r\n+\t\t\t\t}\r\n+\t\t\t},\r\n+\t\t\terror: function(xhr, status, error) {\r\n+\t\t\t\ttoastr.error('AJAX Hatası: ' + error);\r\n+\t\t\t}\r\n+\t\t});\r\n+\t}\r\n+</script>\r\n \r\n+<script>\r\n+\r\n \ttoastr.options = {\r\n \r\n \t\t\"closeButton\": true,\r\n \r\n"
                },
                {
                    "date": 1757052638241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -194,9 +194,9 @@\n \t\t\t\t\t\t\t\t\t<input type=\"hidden\" value=\"<?= $cari->cari_id ?>\" name=\"cari_id\">\r\n \r\n \t\t\t\t\t\t\t\t<?php endif; ?>\t\t\t\t\t\t\t\t<div class=\"row\">\r\n \r\n-\t\t\t\t\t\t\t\t\t<div class=\"form-group col-md-12\">\r\n+\t\t\t\t\t\t\t\t\t<div class=\"form-group col-md-6\">\r\n \r\n \t\t\t\t\t\t\t\t\t\t<label>Cari Tipi <span style=\"color: red;\">*</span></label>\r\n \r\n \t\t\t\t\t\t\t\t\t\t<select class=\"select\" name=\"cari_bireysel\" required=\"\" id=\"cariBireysel\">\r\n@@ -215,8 +215,17 @@\n \r\n \t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"cari_alias_pk\" id=\"alias_pk\" value=\"<?= $isEditMode ? $cari->cari_alias_pk : '' ?>\">\r\n \r\n \t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t<!-- Sorumlu Personel -->\r\n+\t\t\t\t\t\t\t\t\t<div class=\"form-group col-md-6\">\r\n+\t\t\t\t\t\t\t\t\t\t<label>Sorumlu Personel</label>\r\n+\t\t\t\t\t\t\t\t\t\t<select id=\"cari_olusturan\" name=\"cari_olusturan\" class=\"select2\" style=\"width: 100%\">\r\n+\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Personel Seçiniz...</option>\r\n+\t\t\t\t\t\t\t\t\t\t\t<!-- Personel listesi AJAX ile yüklenecek -->\r\n+\t\t\t\t\t\t\t\t\t\t</select>\r\n+\t\t\t\t\t\t\t\t\t</div>\r\n \r\n \t\t\t\t\t\t\t\t</div><div class=\"row\" style=\"display: <?= $isEditMode ? 'block' : 'none' ?>;\" id=\"cari_input\">\r\n \r\n \t\t\t\t\t\t\t\t\t<div class=\"row p-3\">\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n@@ -394,16 +403,9 @@\n \t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_firmaTelefon : '' ?>\">\r\n \r\n \t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n-\t\t\t\t\t\t\t\t\t\t<!-- Personel Seçimi -->\r\n-\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t<label>Sorumlu Personel</label>\r\n-\t\t\t\t\t\t\t\t\t\t\t<select id=\"cari_olusturan\" name=\"cari_olusturan\" class=\"select2\" style=\"width: 100%\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Personel Seçiniz...</option>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<!-- Personel listesi AJAX ile yüklenecek -->\r\n-\t\t\t\t\t\t\t\t\t\t\t</select>\r\n-\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<!-- Fotoğraflar Yükleme Alanı -->\r\n+\t\t\t\t\t\t\t\t\t\t<!-- Fotoğraflar Yükleme Alanı -->\r\n \r\n \t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \r\n \t\t\t\t\t\t\t\t\t\t\t<label>İşletme Görselleri\r\n@@ -734,9 +736,8 @@\n \r\n \t\t$(\"#cari_input\").css(\"display\", \"block\");\r\n \r\n \t\t$(\"#c_soyad\").css(\"display\", \"none\");\r\n-\r\n \t\tif (status == \"Bireysel Müşteri\") {\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1759148252058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -327,10 +327,29 @@\n \t\t\t\t\t\t\t\t<div class=\"row\">\r\n \r\n \t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n \r\n+\t\t\t\t\t\t\t\t\t\t<?php\r\n+\t\t\t\t\t\t\t\t\t\t// Ülke dropdown\r\n+\t\t\t\t\t\t\t\t\t\tif ($_ulkeler != false):\r\n+\t\t\t\t\t\t\t\t\t\t\techo '<div class=\"form-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<label>Ülke <span style=\"color: red;\">*</span></label>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"ulke\" name=\"cari_ulke\" data-plugin-selectTwo class=\"select ajaxUlkeler\" required>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Seçiniz</option>';\r\n+\t\t\t\t\t\t\t\t\t\t\tforeach ($_ulkeler as $item) {\r\n+\t\t\t\t\t\t\t\t\t\t\t\t$selected = ($isEditMode && $cari->cari_ulke == $item->id) ? 'selected' : '';\r\n+\t\t\t\t\t\t\t\t\t\t\t\t// Türkiye'yi varsayılan seç (id 216 genellikle Türkiye)\r\n+\t\t\t\t\t\t\t\t\t\t\t\tif (!$isEditMode && $item->ulke_adi == 'Turkey') {\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t$selected = 'selected';\r\n+\t\t\t\t\t\t\t\t\t\t\t\t}\r\n+\t\t\t\t\t\t\t\t\t\t\t\techo '<option value=\"' . $item->id . '\" ' . $selected . '>' . $item->ulke_adi . '</option>';\r\n+\t\t\t\t\t\t\t\t\t\t\t}\r\n+\t\t\t\t\t\t\t\t\t\t\techo '</select></div>';\r\n+\t\t\t\t\t\t\t\t\t\telse:\r\n+\t\t\t\t\t\t\t\t\t\t\techo 'Kayıtlı Ülke Bulunamadı..!';\r\n+\t\t\t\t\t\t\t\t\t\tendif;\r\n+\t\t\t\t\t\t\t\t\t\t?>\r\n \r\n-\r\n \t\t\t\t\t\t\t\t\t\t<?php\t\t\t\t\t\t\t\t\t\tif ($_iller != false):\r\n \r\n \t\t\t\t\t\t\t\t\t\t\techo '<div class=\"form-group\">\r\n \r\n@@ -685,8 +704,26 @@\n \t$(document).ready(function () {\r\n \t\t// Personel listesini yükle\r\n \t\tloadPersonelList();\r\n \t\t\r\n+\t\t// Ülke değiştiğinde illeri filtrele (sadece Türkiye için)\r\n+\t\t$('.ajaxUlkeler').on('change', function (e) {\r\n+\t\t\tvar base_url = \"<?php echo base_url();?>\";\r\n+\t\t\tvar ulke_id = $(this).val();\r\n+\t\t\tvar ulke_text = $(this).find('option:selected').text();\r\n+\t\t\t\r\n+\t\t\tif (ulke_text === 'Turkey' || ulke_text === 'Türkiye') {\r\n+\t\t\t\t// Türkiye seçilirse mevcut il listesini göster\r\n+\t\t\t\t$('#il').prop('disabled', false);\r\n+\t\t\t\t$('#il option').show();\r\n+\t\t\t} else {\r\n+\t\t\t\t// Diğer ülkeler için illeri gizle/devre dışı bırak\r\n+\t\t\t\t$('#il').prop('disabled', true);\r\n+\t\t\t\t$('#il').val('');\r\n+\t\t\t\t$('#ilce').html('<option value=\"\">Önce Türkiye seçiniz</option>');\r\n+\t\t\t}\r\n+\t\t});\r\n+\t\t\r\n \t\t$('.ajaxIller').on('change', function (e) {\r\n \r\n \t\t\tvar base_url = \"<?php echo base_url();?>\";\r\n \r\n@@ -1274,8 +1311,12 @@\n <script type=\"text/javascript\">\r\n \r\n \t$(document).ready(function () {\r\n \r\n+\t\t$(\"#ulke\").select2({\r\n+\t\t\twidth: '100%'\r\n+\t\t});\r\n+\r\n \t\t$(\"#il\").select2({\r\n \r\n \t\t\twidth: '100%'\r\n \r\n@@ -1328,8 +1369,15 @@\n \t\t\t}, 100);\r\n \r\n \t\t<?php endif; ?>\r\n \r\n+\t\t// Ülke dropdown için trigger (Türkiye dışında ise illeri devre dışı bırak)\r\n+\t\t<?php if($cari->cari_ulke): ?>\r\n+\t\t\tsetTimeout(function() {\r\n+\t\t\t\t$('#ulke').trigger('change');\r\n+\t\t\t}, 50);\r\n+\t\t<?php endif; ?>\r\n+\r\n \t<?php else: ?>\r\n \r\n \t// Create modunda - varsayılan değerler\r\n \r\n@@ -1748,8 +1796,18 @@\n                 background-size: 20px !important;\r\n                 padding-right: 40px !important;\r\n             }\r\n             \r\n+            /* Special styling for country dropdown */\r\n+            #ulke {\r\n+                min-height: 45px !important;\r\n+                background-image: url('data:image/svg+xml;utf8,<svg fill=\"black\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>') !important;\r\n+                background-repeat: no-repeat !important;\r\n+                background-position: right 10px center !important;\r\n+                background-size: 20px !important;\r\n+                padding-right: 40px !important;\r\n+            }\r\n+            \r\n             /* Ensure proper mobile form layout */\r\n             .form-group {\r\n                 margin-bottom: 20px !important;\r\n             }\r\n"
                },
                {
                    "date": 1759149230620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -348,34 +348,27 @@\n \t\t\t\t\t\t\t\t\t\t\techo 'Kayıtlı Ülke Bulunamadı..!';\r\n \t\t\t\t\t\t\t\t\t\tendif;\r\n \t\t\t\t\t\t\t\t\t\t?>\r\n \r\n-\t\t\t\t\t\t\t\t\t\t<?php\t\t\t\t\t\t\t\t\t\tif ($_iller != false):\r\n-\r\n+\t\t\t\t\t\t\t\t\t\t<?php\r\n+\t\t\t\t\t\t\t\t\t\tif ($_iller != false):\r\n \t\t\t\t\t\t\t\t\t\t\techo '<div class=\"form-group\">\r\n-\r\n \t\t\t\t\t\t\t\t\t\t\t\t<label>İl <span style=\"color: red;\">*</span></label>\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"il\" name=\"cari_il\" data-plugin-selectTwo class=\"select ajaxIller\" required>\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Seçiniz</option>';\r\n-\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"il\" name=\"cari_il\" data-plugin-selectTwo class=\"select ajaxIller\" required disabled>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Önce ülke seçiniz</option>';\r\n \t\t\t\t\t\t\t\t\t\t\tforeach ($_iller as $item) {\r\n-\r\n \t\t\t\t\t\t\t\t\t\t\t\t$selected = ($isEditMode && $cari->cari_il == $item->id) ? 'selected' : '';\r\n-\r\n \t\t\t\t\t\t\t\t\t\t\t\techo '<option value=\"' . $item->id . '\" ' . $selected . '>' . $item->il . '</option>';\r\n-\r\n \t\t\t\t\t\t\t\t\t\t\t}\r\n-\r\n \t\t\t\t\t\t\t\t\t\t\techo '</select></div>';\r\n-\r\n \t\t\t\t\t\t\t\t\t\telse:\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\techo 'Kayıtlı İl Bulunamadı..!';\r\n-\r\n+\t\t\t\t\t\t\t\t\t\t\techo '<div class=\"form-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<label>İl <span style=\"color: red;\">*</span></label>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"il\" name=\"cari_il\" data-plugin-selectTwo class=\"select ajaxIller\" required disabled>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Önce ülke seçiniz</option>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>';\r\n \t\t\t\t\t\t\t\t\t\tendif;\r\n-\r\n \t\t\t\t\t\t\t\t\t\t?>\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \r\n \t\t\t\t\t\t\t\t\t\t\t<label>Instagram Hesabı</label>\r\n \r\n@@ -704,23 +697,46 @@\n \t$(document).ready(function () {\r\n \t\t// Personel listesini yükle\r\n \t\tloadPersonelList();\r\n \t\t\r\n-\t\t// Ülke değiştiğinde illeri filtrele (sadece Türkiye için)\r\n+\t\t// Ülke değiştiğinde o ülkeye ait illeri yükle\r\n \t\t$('.ajaxUlkeler').on('change', function (e) {\r\n \t\t\tvar base_url = \"<?php echo base_url();?>\";\r\n \t\t\tvar ulke_id = $(this).val();\r\n-\t\t\tvar ulke_text = $(this).find('option:selected').text();\r\n \t\t\t\r\n-\t\t\tif (ulke_text === 'Turkey' || ulke_text === 'Türkiye') {\r\n-\t\t\t\t// Türkiye seçilirse mevcut il listesini göster\r\n-\t\t\t\t$('#il').prop('disabled', false);\r\n-\t\t\t\t$('#il option').show();\r\n+\t\t\tif (ulke_id) {\r\n+\t\t\t\t// Seçilen ülkeye göre illeri yükle\r\n+\t\t\t\t$('#il').html('<option value=\"\">İller yükleniyor...</option>').prop('disabled', true);\r\n+\t\t\t\t$('#ilce').html('<option value=\"\">Önce il seçiniz</option>');\r\n+\t\t\t\t$('div.ilceler').html('<div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required><option value=\"\">Önce il seçiniz</option></select></div>');\r\n+\t\t\t\t\r\n+\t\t\t\t$.post(base_url + 'cari/getIllerByUlke', {ulke_id: ulke_id}, function (result) {\r\n+\t\t\t\t\tif (result && result.status != 'error') {\r\n+\t\t\t\t\t\tvar iller = result.data;\r\n+\t\t\t\t\t\tvar select_options = '<option value=\"\">İl Seçiniz</option>';\r\n+\t\t\t\t\t\t\r\n+\t\t\t\t\t\tfor (var i = 0; i < iller.length; i++) {\r\n+\t\t\t\t\t\t\tselect_options += '<option value=\"' + iller[i].id + '\">' + iller[i].il + '</option>';\r\n+\t\t\t\t\t\t}\r\n+\t\t\t\t\t\t\r\n+\t\t\t\t\t\t$('#il').html(select_options).prop('disabled', false);\r\n+\t\t\t\t\t\t\r\n+\t\t\t\t\t\t// Edit modunda seçili ili tekrar seç\r\n+\t\t\t\t\t\t<?php if($isEditMode && $cari->cari_il): ?>\r\n+\t\t\t\t\t\t\t$('#il').val('<?= $cari->cari_il ?>');\r\n+\t\t\t\t\t\t<?php endif; ?>\r\n+\t\t\t\t\t} else {\r\n+\t\t\t\t\t\t$('#il').html('<option value=\"\">Bu ülkeye ait il bulunamadı</option>').prop('disabled', true);\r\n+\t\t\t\t\t\talert('Hata: ' + result.message);\r\n+\t\t\t\t\t}\r\n+\t\t\t\t}).fail(function() {\r\n+\t\t\t\t\t$('#il').html('<option value=\"\">İl yüklenemedi</option>').prop('disabled', true);\r\n+\t\t\t\t\talert('İller yüklenirken bir hata oluştu.');\r\n+\t\t\t\t});\r\n \t\t\t} else {\r\n-\t\t\t\t// Diğer ülkeler için illeri gizle/devre dışı bırak\r\n-\t\t\t\t$('#il').prop('disabled', true);\r\n-\t\t\t\t$('#il').val('');\r\n-\t\t\t\t$('#ilce').html('<option value=\"\">Önce Türkiye seçiniz</option>');\r\n+\t\t\t\t// Ülke seçilmemişse illeri temizle\r\n+\t\t\t\t$('#il').html('<option value=\"\">Önce ülke seçiniz</option>').prop('disabled', true);\r\n+\t\t\t\t$('#ilce').html('<option value=\"\">Önce ülke seçiniz</option>');\r\n \t\t\t}\r\n \t\t});\r\n \t\t\r\n \t\t$('.ajaxIller').on('change', function (e) {\r\n@@ -1351,8 +1367,15 @@\n \t\t// Edit modunda - mevcut değerleri kullan\r\n \r\n \t\t$('#cari_input').show();\r\n \r\n+\t\t// Ülke dropdown için trigger (o ülkeye ait illeri yükler)\r\n+\t\t<?php if($cari->cari_ulke): ?>\r\n+\t\t\tsetTimeout(function() {\r\n+\t\t\t\t$('#ulke').val('<?= $cari->cari_ulke ?>').trigger('change');\r\n+\t\t\t}, 100);\r\n+\t\t<?php endif; ?>\r\n+\r\n \t\t<?php if($cari->cari_ilce): ?>\r\n \r\n \t\t\t// İl seçildikten sonra ilçeleri yükle\r\n \r\n@@ -1363,21 +1386,14 @@\n \t\t\t\tsetTimeout(function() {\r\n \r\n \t\t\t\t\t$('#ilce').val('<?= $cari->cari_ilce ?>');\r\n \r\n-\t\t\t\t}, 500);\r\n+\t\t\t\t}, 1000);\r\n \r\n-\t\t\t}, 100);\r\n+\t\t\t}, 500);\r\n \r\n \t\t<?php endif; ?>\r\n \r\n-\t\t// Ülke dropdown için trigger (Türkiye dışında ise illeri devre dışı bırak)\r\n-\t\t<?php if($cari->cari_ulke): ?>\r\n-\t\t\tsetTimeout(function() {\r\n-\t\t\t\t$('#ulke').trigger('change');\r\n-\t\t\t}, 50);\r\n-\t\t<?php endif; ?>\r\n-\r\n \t<?php else: ?>\r\n \r\n \t// Create modunda - varsayılan değerler\r\n \r\n"
                },
                {
                    "date": 1759818908761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -530,8 +530,12 @@\n \r\n \t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n \r\n \t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Posta Kodu</label>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"potansiyel_postaKodu\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->potansiyel_postaKodu : '' ?>\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n \t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n \t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n"
                },
                {
                    "date": 1759819144756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -532,9 +532,9 @@\n \r\n \t\t\t\t\t\t\t\t\t\t\t</div>\r\n \t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \t\t\t\t\t\t\t\t\t\t\t\t\t<label>Posta Kodu</label>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"potansiyel_postaKodu\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->potansiyel_postaKodu : '' ?>\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_postaKod\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKod : '' ?>\">\r\n \t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n \t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n@@ -706,15 +706,13 @@\n \t\t$('.ajaxUlkeler').on('change', function (e) {\r\n \t\t\tvar base_url = \"<?php echo base_url();?>\";\r\n \t\t\tvar ulke_id = $(this).val();\r\n \t\t\t\r\n-\t\t\tif (ulke_id) {\r\n-\t\t\t\t// Seçilen ülkeye göre illeri yükle\r\n-\t\t\t\t$('#il').html('<option value=\"\">İller yükleniyor...</option>').prop('disabled', true);\r\n-\t\t\t\t$('#ilce').html('<option value=\"\">Önce il seçiniz</option>');\r\n-\t\t\t\t$('div.ilceler').html('<div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required><option value=\"\">Önce il seçiniz</option></select></div>');\r\n-\t\t\t\t\r\n-\t\t\t\t$.post(base_url + 'cari/getIllerByUlke', {ulke_id: ulke_id}, function (result) {\r\n+\t\t\t\tif (ulke_id) {\r\n+\t\t\t\t\t// Seçilen ülkeye göre illeri yükle\r\n+\t\t\t\t\t$('#il').html('<option value=\"\">İller yükleniyor...</option>').prop('disabled', true);\r\n+\t\t\t\t\t$('#ilce').html('<option value=\"\">Önce il seçiniz</option>');\r\n+\t\t\t\t\t$('div.ilceler').html('<div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required><option value=\"\">Önce il seçiniz</option></select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKod\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKod : '' ?>\"></div>');\t\t\t\t$.post(base_url + 'cari/getIllerByUlke', {ulke_id: ulke_id}, function (result) {\r\n \t\t\t\t\tif (result && result.status != 'error') {\r\n \t\t\t\t\t\tvar iller = result.data;\r\n \t\t\t\t\t\tvar select_options = '<option value=\"\">İl Seçiniz</option>';\r\n \t\t\t\t\t\t\r\n@@ -752,21 +750,21 @@\n \t\t\t$.post(base_url + 'home/get_ilceler', {il_id: il_id}, function (result) {\t\t\t\tif (result && result.status != 'error') {\r\n \r\n \t\t\t\t\tvar ilceler = result.data;\r\n \r\n-\t\t\t\t\tvar select = '<div class=\"ilceler\"><div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required>';\r\n+\t\t\t\tvar select = '<div class=\"ilceler\"><div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required>';\r\n \r\n-\t\t\t\t\tselect += '<option value=\"\">İlçe Seçiniz</option>';\r\n+\t\t\t\tselect += '<option value=\"\">İlçe Seçiniz</option>';\r\n \r\n-\t\t\t\t\tfor (var i = 0; i < ilceler.length; i++) {\r\n+\t\t\t\tfor (var i = 0; i < ilceler.length; i++) {\r\n \r\n-\t\t\t\t\t\tselect += '<option value=\"' + ilceler[i].id + '\">' + ilceler[i].ilce + '</option>';\r\n+\t\t\t\t\tselect += '<option value=\"' + ilceler[i].id + '\">' + ilceler[i].ilce + '</option>';\r\n \r\n-\t\t\t\t\t}\r\n+\t\t\t\t}\r\n \r\n-\t\t\t\t\tselect += '</select></div></div>';\r\n+\t\t\t\tselect += '</select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKod\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKod : '' ?>\"></div></div>';\r\n \r\n-\t\t\t\t\t$('div.ilceler').empty().html(select);\r\n+\t\t\t\t$('div.ilceler').empty().html(select);\r\n \r\n \t\t\t\t} else {\r\n \r\n \t\t\t\t\talert('Hata : ' + result.message);\r\n"
                },
                {
                    "date": 1759819313307,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -532,9 +532,9 @@\n \r\n \t\t\t\t\t\t\t\t\t\t\t</div>\r\n \t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \t\t\t\t\t\t\t\t\t\t\t\t\t<label>Posta Kodu</label>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_postaKod\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKod : '' ?>\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_postaKodu\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKodu : '' ?>\">\r\n \t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n \t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n@@ -710,9 +710,9 @@\n \t\t\t\tif (ulke_id) {\r\n \t\t\t\t\t// Seçilen ülkeye göre illeri yükle\r\n \t\t\t\t\t$('#il').html('<option value=\"\">İller yükleniyor...</option>').prop('disabled', true);\r\n \t\t\t\t\t$('#ilce').html('<option value=\"\">Önce il seçiniz</option>');\r\n-\t\t\t\t\t$('div.ilceler').html('<div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required><option value=\"\">Önce il seçiniz</option></select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKod\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKod : '' ?>\"></div>');\t\t\t\t$.post(base_url + 'cari/getIllerByUlke', {ulke_id: ulke_id}, function (result) {\r\n+\t\t\t\t\t$('div.ilceler').html('<div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required><option value=\"\">Önce il seçiniz</option></select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKodu\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKodu : '' ?>\"></div>');\t\t\t\t$.post(base_url + 'cari/getIllerByUlke', {ulke_id: ulke_id}, function (result) {\r\n \t\t\t\t\tif (result && result.status != 'error') {\r\n \t\t\t\t\t\tvar iller = result.data;\r\n \t\t\t\t\t\tvar select_options = '<option value=\"\">İl Seçiniz</option>';\r\n \t\t\t\t\t\t\r\n@@ -760,9 +760,9 @@\n \t\t\t\t\tselect += '<option value=\"' + ilceler[i].id + '\">' + ilceler[i].ilce + '</option>';\r\n \r\n \t\t\t\t}\r\n \r\n-\t\t\t\tselect += '</select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKod\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKod : '' ?>\"></div></div>';\r\n+\t\t\t\tselect += '</select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKodu\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKodu : '' ?>\"></div></div>';\r\n \r\n \t\t\t\t$('div.ilceler').empty().html(select);\r\n \r\n \t\t\t\t} else {\r\n"
                },
                {
                    "date": 1759819836845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -409,9 +409,9 @@\n \t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\"\r\n \r\n \t\t\t\t\t\t\t\t\t\t\t\t   oninput=\"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\"\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t   maxlength=\"10\"  <?php if($modulSorgula) echo \"required\";?>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t   maxlength=\"13\"  <?php if($modulSorgula) echo \"required\";?>\r\n \r\n \t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_firmaTelefon : '' ?>\">\r\n \r\n \t\t\t\t\t\t\t\t\t\t</div>\r\n"
                },
                {
                    "date": 1760086613727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,8 +176,10 @@\n \t\t\t\t\t\t\tSorun devam ederse lütfen masaüstü bilgisayar kullanın.\r\n \t\t\t\t\t\t</div>\r\n \t\t\t\t\t<?php endif; ?>\r\n \r\n+\t\t\t\t\t<!-- TC Kimlik/Vergi Numarası kontrolleri kaldırıldı - aynı numara ile kayıt izni verildi -->\r\n+\r\n \t\t\t\t\t<div class=\"card\">\r\n \r\n \t\t\t\t\t\t<div class=\"card-body\">\t\t\t\t\t\t\t<h4 class=\"card-title\">Temel Bilgiler<span style=\"float:right;<?php if($isEditMode && $cari->cari_alias_pk){echo \"display:block;\";}else{echo \"display:none;\";} ?>\" id=\"mukellef_mark\">e-Fatura Mükellefidir <i\r\n \r\n"
                },
                {
                    "date": 1760446763259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,16 +121,8 @@\n \t\t\t</div>\r\n \r\n \t\t\t<!-- /Page Header -->\t\t\t<?php\r\n \r\n-\t\t\t$anaHesap = anaHesapBilgisi();\r\n-\r\n-\t\t\t$cariGruplariQ = \"SELECT * FROM cariGruplari WHERE cariGrup_olusturanAnaHesap = '$anaHesap'\";\r\n-\r\n-\t\t\t$cariGruplari = $this->db->query($cariGruplariQ)->result();\r\n-\r\n-\t\t\t\r\n-\r\n \t\t\t// Edit modu kontrolü\r\n \r\n \t\t\t$isEditMode = isset($cari) && !empty($cari);\r\n \r\n@@ -261,60 +253,30 @@\n \t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_vergiDairesi : '' ?>\">\r\n \r\n \t\t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t<label>Cari Adı <span style=\"color: red;\">*</span></label>\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_ad\" required\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\" id=\"cariAd\"\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_ad : '' ?>\">\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\r\n \t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n \r\n \r\n \t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n-\r\n+\t\t\t\t\t\t\t\t\r\n \t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t<label>Cari Grup</label>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<label>İşletme Adı <span style=\"color: red;\">*</span></label>\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"select\" name=\"cari_cariGrupKoduID\" id=\"cariGrupKodu\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_ad\" required\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"0\">Seçiniz...</option>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\" id=\"cariAd\"\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($cariGruplari as $cg) { ?>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_ad : '' ?>\">\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?= $cg->cariGrup_id ?>\" <?php if($isEditMode && $cg->cariGrup_id == $cari->cari_cariGrupKoduID){echo \"selected\";}elseif(!$isEditMode && $cg->cariGrup_id == 1){echo \"selected\";} ?>><?= $cg->cariGrup_kodu; ?>\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(<?= $cg->cariGrup_ad; ?>)\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n-\r\n \t\t\t\t\t\t\t\t\t\t\t</div>\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t<label>Yetkili Adı</label>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<label>Yetkili Adı Soyadı <span style=\"color: red;\">*</span></label>\r\n \r\n-\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"yetki_adi\" id=\"yetkiAdi\"\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->yetki_adi : '' ?>\">\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\" id=\"c_soyad\" <?php if($isEditMode && $cari->cari_soyad==null) echo 'style=\"display: none;\"';?>>\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<label>Cari Soyadı <span style=\"color: red;\">*</span></label>\r\n-\r\n \t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_soyad\" id=\"cariSoyad\" \r\n \r\n \t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_soyad : '' ?>\" autocomplete=\"off\">\r\n \r\n@@ -748,13 +710,13 @@\n \t\t\tvar base_url = \"<?php echo base_url();?>\";\r\n \r\n \t\t\tvar il_id = $(this).val();\r\n \r\n-\t\t\t$.post(base_url + 'home/get_ilceler', {il_id: il_id}, function (result) {\t\t\t\tif (result && result.status != 'error') {\r\n+\t\t\t$.post(base_url + 'cari/getIlceler', {il_id: il_id}, function (result) {\t\t\t\tif (result && result.status != 'error') {\r\n \r\n \t\t\t\t\tvar ilceler = result.data;\r\n \r\n-\t\t\t\tvar select = '<div class=\"ilceler\"><div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required>';\r\n+\t\t\t\tvar select = '<div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required>';\r\n \r\n \t\t\t\tselect += '<option value=\"\">İlçe Seçiniz</option>';\r\n \r\n \t\t\t\tfor (var i = 0; i < ilceler.length; i++) {\r\n@@ -762,9 +724,9 @@\n \t\t\t\t\tselect += '<option value=\"' + ilceler[i].id + '\">' + ilceler[i].ilce + '</option>';\r\n \r\n \t\t\t\t}\r\n \r\n-\t\t\t\tselect += '</select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKodu\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKodu : '' ?>\"></div></div>';\r\n+\t\t\t\tselect += '</select></div><div class=\"form-group\"><label>Posta Kodu</label><input type=\"text\" class=\"form-control\" name=\"cari_postaKodu\" maxlength=\"10\" placeholder=\"Posta kodu giriniz\" value=\"<?= $isEditMode ? $cari->cari_postaKodu : '' ?>\"></div>';\r\n \r\n \t\t\t\t$('div.ilceler').empty().html(select);\r\n \r\n \t\t\t\t} else {\r\n@@ -1339,12 +1301,8 @@\n \t\t$(\"#il\").select2({\r\n \r\n \t\t\twidth: '100%'\r\n \r\n-\t\t});\t\t$(\"#cariGrupKodu\").select2({\r\n-\r\n-\t\t\twidth: '100%'\r\n-\r\n \t\t});\r\n \r\n \r\n \r\n@@ -1576,8 +1534,48 @@\n }\r\n \r\n </script>\r\n \r\n+<!-- Form Debug ve Validation -->\r\n+<script>\r\n+$(document).ready(function() {\r\n+    // Form submit olayında tüm değerleri debug et\r\n+    $('#myForm').on('submit', function(e) {\r\n+        console.log('Form submit triggered - checking all values:');\r\n+        \r\n+        // İlçe değerini özellikle kontrol et\r\n+        var ilceValue = $('#ilce').val();\r\n+        var ilceName = $('#ilce option:selected').text();\r\n+        \r\n+        console.log('İlçe dropdown value:', ilceValue);\r\n+        console.log('İlçe dropdown text:', ilceName);\r\n+        console.log('İlçe element exists:', $('#ilce').length > 0);\r\n+        console.log('İlçe element disabled:', $('#ilce').prop('disabled'));\r\n+        \r\n+        // Eğer ilçe değeri boşsa uyarı ver\r\n+        if (!ilceValue || ilceValue === '') {\r\n+            console.warn('İlçe değeri boş! Form submit edilmeden önce ilçe seçimi yapılmalı.');\r\n+        }\r\n+        \r\n+        // Tüm form elemanlarını logla\r\n+        $('#myForm input, #myForm select, #myForm textarea').each(function() {\r\n+            var name = $(this).attr('name');\r\n+            var value = $(this).val();\r\n+            if (name) {\r\n+                console.log('Form field:', name, '=', value);\r\n+            }\r\n+        });\r\n+    });\r\n+    \r\n+    // İlçe dropdown değişikliklerini takip et\r\n+    $(document).on('change', '#ilce', function() {\r\n+        var selectedValue = $(this).val();\r\n+        var selectedText = $(this).find('option:selected').text();\r\n+        console.log('İlçe seçimi değişti:', selectedValue, '-', selectedText);\r\n+    });\r\n+});\r\n+</script>\r\n+\r\n <!-- Mobile Form Fix for Customer Creation -->\r\n <script>\r\n // Detect if user is on mobile device\r\n function isMobileDevice() {\r\n"
                }
            ],
            "date": 1754904082231,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n\r\n<html lang=\"tr\">\r\n\r\n<head>\r\n\r\n\t<?php $this->load->view(\"include/head-tags\"); ?>\r\n\r\n\t<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css\" integrity=\"sha512-vKMx8UnXk60zUwyUnUPM3HbQo8QfmNx7+ltw8Pm5zLusl1XIfwcxo8DbWCqMGKaWeNxWA8yrx5v3SaVpMvR3CA==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\t<style>\r\n\r\n\t\t/* Select2 dropdown hover rengini mor yap */\r\n\r\n\t\t.select2-container--default .select2-results__option--highlighted[aria-selected] {\r\n\r\n\t\t\tbackground-color: #5c2d91 !important;\r\n\r\n\t\t\tcolor: #fff !important;\r\n\r\n\t\t}\t\t.form-group {\r\n\r\n    margin-bottom: 0.56rem !important; /* 0.75rem'in %25'i kadar daha azaltıldı */\r\n\r\n}\r\n\r\n\t\t}\r\n\r\n\t\t#modalImage {\r\n\r\n\t\t\tborder-radius: 8px;\r\n\r\n\t\t\tbox-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n\r\n\t\t}\r\n\r\n\t</style>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n<?php\r\n\r\n\r\n\r\n$firmaID = getirFirma();\r\n\r\n$firma_ID = $firmaID->ayarlar_id;\r\n\r\n\r\n\r\n$modulSorgula = modulSorgula($firma_ID, 1);\r\n\r\n?>\r\n\r\n<!-- Main Wrapper -->\r\n\r\n<div class=\"main-wrapper\">\r\n\r\n\t<!-- Header -->\r\n\r\n\t<?php $this->load->view(\"include/header\"); ?>\r\n\r\n\t<!-- /Header -->\r\n\r\n\r\n\r\n\t<!-- Sidebar -->\r\n\r\n\t<?php $this->load->view(\"include/sidebar\"); ?>\r\n\r\n\t<!-- /Sidebar -->\r\n\r\n\r\n\r\n\t<!-- Page Wrapper -->\r\n\r\n\t<div class=\"page-wrapper\">\r\n\r\n\t\t<div class=\"content container-fluid\">\t\t\t<!-- Page Header -->\r\n\r\n\t\t\t<div class=\"page-header\">\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\r\n\r\n\r\n\t\t\t\t\t<div class=\"col-sm-10\">\r\n\r\n\t\t\t\t\t\t<?php\r\n\r\n\t\t\t\t\t\t// Edit modu kontrolü için $cari varlığını kontrol et\r\n\r\n\t\t\t\t\t\t$isPageEditMode = isset($cari) && !empty($cari);\r\n\r\n\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\t<h3 class=\"page-title\"><?= $isPageEditMode ? 'Müşteri Düzenle' : 'Müşteri Oluştur' ?></h3>\r\n\r\n\t\t\t\t\t\t<ul class=\"breadcrumb\">\r\n\r\n\t\t\t\t\t\t\t<li class=\"breadcrumb-item\"><a href=\"<?= base_url(); ?>\">Anasayfa</a></li>\r\n\r\n\t\t\t\t\t\t\t<li class=\"breadcrumb-item\">Müşteri</li>\r\n\r\n\t\t\t\t\t\t\t<li class=\"breadcrumb-item active\"><?= $isPageEditMode ? 'Müşteri Düzenle' : 'Müşteri Oluştur' ?></li>\r\n\r\n\t\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"d-flex justify-content-end text-align-center col-sm-2\">\r\n\r\n\t\t\t\t\t\t<a class=\"btn btn-outline-light\" href=\"javascript:history.back()\"><i class=\"fa fa-history\"></i>\r\n\r\n\t\t\t\t\t\t\t<br>Önceki Sayfa</a>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- /Page Header -->\t\t\t<?php\r\n\r\n\t\t\t$anaHesap = anaHesapBilgisi();\r\n\r\n\t\t\t$cariGruplariQ = \"SELECT * FROM cariGruplari WHERE cariGrup_olusturanAnaHesap = '$anaHesap'\";\r\n\r\n\t\t\t$cariGruplari = $this->db->query($cariGruplariQ)->result();\r\n\r\n\t\t\t\r\n\r\n\t\t\t// Edit modu kontrolü\r\n\r\n\t\t\t$isEditMode = isset($cari) && !empty($cari);\r\n\r\n\t\t\t$pageTitle = $isEditMode ? \"Cari Kartı Düzenle\" : \"Cari Kartı\";\r\n\r\n\t\t\t$formAction = $isEditMode ? base_url(\"cari/mevcutCariKartiDuzenle\") : base_url(\"cari/yeniCariKartiOlustur\");\r\n\r\n\t\t\t\r\n\r\n\t\t\t// Edit modunda cari vergi numarası belirleme\r\n\r\n\t\t\tif($isEditMode) {\r\n\r\n\t\t\t\tif($cari->cari_vergiNumarasi != null)\r\n\r\n\t\t\t\t\t$cari_vergiNumarasi = $cari->cari_vergiNumarasi;\r\n\r\n\t\t\t\telse\r\n\r\n\t\t\t\t\t$cari_vergiNumarasi = $cari->cari_tckn;\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t// Bireysel müşteri kontrolü\r\n\r\n\t\t\t\t$bireysel = $cari->cari_bireysel;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t?>\r\n\r\n\r\n\r\n\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t<div class=\"col-md-12\">\r\n\r\n\t\t\t\t\t<!-- Mobile Form Error Alert -->\r\n\t\t\t\t\t<?php if($this->session->flashdata('mobile_form_error')): ?>\r\n\t\t\t\t\t\t<div class=\"alert alert-danger alert-dismissible\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\r\n\t\t\t\t\t\t\t<strong>Mobil Cihaz Uyarısı!</strong> Form verileriniz düzgün gönderilmedi. Lütfen tüm zorunlu alanları doldurup tekrar deneyin. \r\n\t\t\t\t\t\t\tSorun devam ederse lütfen masaüstü bilgisayar kullanın.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t<div class=\"card\">\r\n\r\n\t\t\t\t\t\t<div class=\"card-body\">\t\t\t\t\t\t\t<h4 class=\"card-title\">Temel Bilgiler<span style=\"float:right;<?php if($isEditMode && $cari->cari_alias_pk){echo \"display:block;\";}else{echo \"display:none;\";} ?>\" id=\"mukellef_mark\">e-Fatura Mükellefidir <i\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"fa fa-check-circle text-success\"></i></span></h4>\r\n\r\n\t\t\t\t\t\t\t<form action=\"<?= $formAction ?>\" method=\"POST\" id=\"myForm\" enctype=\"multipart/form-data\">\r\n\r\n\t\t\t\t\t\t\t\t<!-- Debug: Form Action = <?= $formAction ?> -->\r\n\r\n\t\t\t\t\t\t\t\t<!-- Debug: Edit Mode = <?= $isEditMode ? 'true' : 'false' ?> -->\r\n\r\n\t\t\t\t\t\t\t\t<?php if($isEditMode): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" value=\"<?= $cari->cari_id ?>\" name=\"cari_id\">\r\n\r\n\t\t\t\t\t\t\t\t<?php endif; ?>\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group col-md-12\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<label>Cari Tipi <span style=\"color: red;\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<select class=\"select\" name=\"cari_bireysel\" required=\"\" id=\"cariBireysel\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Seçiniz...</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\" <?php if($isEditMode && $bireysel == 1){echo \"selected\";} ?>>Bireysel Müşteri</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"0\" <?php if($isEditMode && $bireysel != 1){echo \"selected\";}elseif(!$isEditMode){echo \"selected\";} ?>>Kurumsal Müşteri</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"2\" <?php if($isEditMode && $bireysel == 2){echo \"selected\";} ?>>Diğer</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"cari_alias_pk\" id=\"alias_pk\" value=\"<?= $isEditMode ? $cari->cari_alias_pk : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</div><div class=\"row\" style=\"display: <?= $isEditMode ? 'block' : 'none' ?>;\" id=\"cari_input\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"row p-3\">\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>TC Kimlik Numarası / Vergi Numarası <span style=\"color: red;\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" required\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   name=\"cari_vergiNumarasi\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   oninput=\"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   maxlength=\"11\" id=\"vergiNumarasi\" autocomplete=\"off\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari_vergiNumarasi : '' ?>\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   <?php if($isEditMode && $bireysel == 2) echo \"readonly\";?>>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Vergi Dairesi <span style=\"color: red;\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_vergiDairesi\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   id=\"vergiDairesi\" autocomplete=\"off\" required=\"\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_vergiDairesi : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Cari Adı <span style=\"color: red;\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_ad\" required\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\" id=\"cariAd\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_ad : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Cari Grup</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"select\" name=\"cari_cariGrupKoduID\" id=\"cariGrupKodu\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"0\">Seçiniz...</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($cariGruplari as $cg) { ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?= $cg->cariGrup_id ?>\" <?php if($isEditMode && $cg->cariGrup_id == $cari->cari_cariGrupKoduID){echo \"selected\";}elseif(!$isEditMode && $cg->cariGrup_id == 1){echo \"selected\";} ?>><?= $cg->cariGrup_kodu; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(<?= $cg->cariGrup_ad; ?>)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Yetkili Adı</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"yetki_adi\" id=\"yetkiAdi\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->yetki_adi : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\" id=\"c_soyad\" <?php if($isEditMode && $cari->cari_soyad==null) echo 'style=\"display: none;\"';?>>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Cari Soyadı <span style=\"color: red;\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_soyad\" id=\"cariSoyad\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_soyad : '' ?>\" autocomplete=\"off\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<h4 class=\"card-title mt-4\">Müşteri İletişim Bilgileri</h4>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t<?php\t\t\t\t\t\t\t\t\t\tif ($_iller != false):\r\n\r\n\t\t\t\t\t\t\t\t\t\t\techo '<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>İl <span style=\"color: red;\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"il\" name=\"cari_il\" data-plugin-selectTwo class=\"select ajaxIller\" required>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Seçiniz</option>';\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tforeach ($_iller as $item) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t$selected = ($isEditMode && $cari->cari_il == $item->id) ? 'selected' : '';\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\techo '<option value=\"' . $item->id . '\" ' . $selected . '>' . $item->il . '</option>';\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\techo '</select></div>';\r\n\r\n\t\t\t\t\t\t\t\t\t\telse:\r\n\r\n\t\t\t\t\t\t\t\t\t\t\techo 'Kayıtlı İl Bulunamadı..!';\r\n\r\n\t\t\t\t\t\t\t\t\t\tendif;\r\n\r\n\t\t\t\t\t\t\t\t\t\t?>\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label>Instagram Hesabı</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_websitesi\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\" value=\"<?= $isEditMode ? $cari->cari_websitesi : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label>Mahalle</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_mahalle\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\" placeholder=\"Mahalle bilgisi giriniz...\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_mahalle : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div><div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label>Firma e-Posta <?php if($modulSorgula) echo '<span style=\"color: red;\">*</span>';?></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"email\" class=\"form-control\" name=\"cari_firmaEPosta\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\" <?php if($modulSorgula) echo \"required\";?> id=\"cari_eposta\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_firmaEPosta : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label>Firma Telefon <?php if($modulSorgula) echo '<span style=\"color: red;\">*</span>';?></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"cari_firmaTelefon\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   autocomplete=\"off\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   oninput=\"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   maxlength=\"10\"  <?php if($modulSorgula) echo \"required\";?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   value=\"<?= $isEditMode ? $cari->cari_firmaTelefon : '' ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<!-- Fotoğraflar Yükleme Alanı -->\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label>İşletme Görselleri\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?php if(!$isEditMode): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"color: red;\">*</span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<?php if($isEditMode && !empty($cari->fotograf_dosya)): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Mevcut Görseller -->\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"d-block\">Mevcut Görseller:</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$fotograflar = explode(',', $cari->fotograf_dosya);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach($fotograflar as $index => $fotograf): \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(trim($fotograf) != ''):\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-3 mb-2\" id=\"gorsel_<?= $index ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"card\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"<?= base_url('assets/uploads/' . trim($fotograf)) ?>\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t class=\"card-img-top\" style=\"height: 100px; object-fit: cover; cursor: pointer;\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t onclick=\"showImageModal('<?= base_url('assets/uploads/' . trim($fotograf)) ?>')\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"card-body p-2\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-danger btn-sm w-100\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonclick=\"deleteImage(<?= $cari->cari_id ?>, '<?= trim($fotograf) ?>', <?= $index ?>)\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-trash\"></i> Sil\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendif;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendforeach; \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Yeni Görsel Yükleme -->\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"d-block\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?= $isEditMode ? 'Yeni Görsel Ekle (İsteğe bağlı):' : 'İşletmeye ait en az 3 fotoğraf yükleyiniz:' ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"file\" class=\"form-control\" name=\"cari_fotograflar[]\" multiple accept=\"image/*\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   <?= !$isEditMode ? 'required' : '' ?>>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">JPG, PNG, GIF formatları kabul edilir. Maksimum 5MB.</small>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<!-- /Fotoğraflar Yükleme Alanı -->\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\t\t\t\t\t\t\t\t\t\t<div class=\"ilceler\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>İlçe <span style=\"color: red;\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"ilce\" name=\"cari_ilce\" class=\"select\" required>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">İl Seçiniz</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php if($isEditMode && $cari->cari_ilce): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?= $cari->cari_ilce ?>\" selected><?= $cari->ilce_adi ?></option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label>Adres</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<textarea rows=\"9\" cols=\"5\" class=\"form-control\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  placeholder=\"Adres bilgisi giriniz...\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  name=\"cari_adres\"><?= $isEditMode ? $cari->cari_adres : '' ?></textarea>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<!-- Dosya Yükleme Alanı -->\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label>Evraklar (Vergi levhası, imza sirküsü, kimlik fotokopisi)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?php if(!$isEditMode): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"color: red;\">*</span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<?php if($isEditMode && !empty($cari->evrak_dosya)): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Mevcut Evraklar -->\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"d-block\">Mevcut Evraklar:</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"list-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$evraklar = explode(',', $cari->evrak_dosya);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach($evraklar as $index => $evrak): \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(trim($evrak) != ''):\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$dosya_adi = basename(trim($evrak));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"list-group-item d-flex justify-content-between align-items-center\" id=\"evrak_<?= $index ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-file-o mr-2\"></i>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"<?= base_url('assets/uploads/' . trim($evrak)) ?>\" target=\"_blank\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?= $dosya_adi ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-danger btn-sm\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonclick=\"deleteDocument(<?= $cari->cari_id ?>, '<?= trim($evrak) ?>', <?= $index ?>)\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-trash\"></i> Sil\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendif;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendforeach; \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Yeni Evrak Yükleme -->\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"d-block\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?= $isEditMode ? 'Yeni Evrak Ekle (İsteğe bağlı):' : 'Vergi levhası, imza sirküsü, kimlik fotokopisi yükleyiniz:' ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"file\" class=\"form-control\" name=\"cari_dosya[]\" multiple accept=\"*/*\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   <?= !$isEditMode ? 'required' : '' ?>>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">PDF, DOC, DOCX, JPG, PNG ve diğer dosya formatları kabul edilir. Maksimum 10MB.</small>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<!-- /Dosya Yükleme Alanı -->\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-danger\" style=\"width:100%;\" id=\"kydtBTN\">\r\n\r\n\t\t\t\t\t\t\t\t\t<?= $isEditMode ? 'Güncelle' : 'Kaydet' ?>\r\n\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<!-- /Page Wrapper -->\r\n\r\n\r\n\r\n</div>\r\n\r\n<!-- /Main Wrapper -->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<?php $this->load->view(\"include/footer-js\"); ?>\r\n\r\n\r\n\r\n<script>\r\n\r\n\t$(document).ready(function () {\r\n\r\n\t\t$('.ajaxIller').on('change', function (e) {\r\n\r\n\t\t\tvar base_url = \"<?php echo base_url();?>\";\r\n\r\n\t\t\tvar il_id = $(this).val();\r\n\r\n\t\t\t$.post(base_url + 'home/get_ilceler', {il_id: il_id}, function (result) {\t\t\t\tif (result && result.status != 'error') {\r\n\r\n\t\t\t\t\tvar ilceler = result.data;\r\n\r\n\t\t\t\t\tvar select = '<div class=\"ilceler\"><div class=\"form-group\"><label>İlçe <span style=\"color: red;\">*</span></label><select id=\"ilce\" name=\"cari_ilce\" class=\"form-control select\" required>';\r\n\r\n\t\t\t\t\tselect += '<option value=\"\">İlçe Seçiniz</option>';\r\n\r\n\t\t\t\t\tfor (var i = 0; i < ilceler.length; i++) {\r\n\r\n\t\t\t\t\t\tselect += '<option value=\"' + ilceler[i].id + '\">' + ilceler[i].ilce + '</option>';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tselect += '</select></div></div>';\r\n\r\n\t\t\t\t\t$('div.ilceler').empty().html(select);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\talert('Hata : ' + result.message);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\t});\r\n\r\n</script>\r\n\r\n\r\n\r\n<script>\r\n\r\n\t$(\"#cariBireysel\").on('change', function () {\r\n\r\n\t\tvar status = $(\"#cariBireysel option:selected\").text();\r\n\r\n\r\n\r\n\t\t$(\"#cari_input\").css(\"display\", \"block\");\r\n\r\n\t\t$(\"#c_soyad\").css(\"display\", \"none\");\r\n\r\n\t\tif (status == \"Bireysel Müşteri\") {\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', false);\r\n\r\n\t\t\t$(\"#cariSoyad\").prop('required', false);\r\n\r\n\t\t\t$(\"#vergiNumarasi\").prop('readonly', false);\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiDairesi\").val(\"\");\r\n\r\n\t\t\t$(\"#vergiNumarasi\").val(\"\");\r\n\r\n\t\t\t$(\"#alias_pk\").val(\"\");\r\n\r\n\t\t\t$(\"#cariAd\").val(\"\");\r\n\r\n\r\n\r\n\t\t} else if (status == \"Kurumsal Müşteri\") {\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', false);\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiNumarasi\").prop('readonly', false);\r\n\r\n\t\t\t$(\"#vergiDairesi\").val(\"\");\r\n\r\n\t\t\t$(\"#vergiNumarasi\").val(\"\");\r\n\r\n\t\t\t$(\"#alias_pk\").val(\"\");\r\n\r\n\t\t\t$(\"#cariAd\").val(\"\");\r\n\r\n\r\n\r\n\t\t} else if (status == \"Diğer\") {\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', false);\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiNumarasi\").prop('readonly', true);\r\n\r\n\t\t\t$(\"#vergiDairesi\").val(\"\");\r\n\r\n\t\t\t$(\"#vergiNumarasi\").val(\"11111111111\");\r\n\r\n\t\t\t$(\"#alias_pk\").val(\"\");\r\n\r\n\t\t\t$(\"#cariAd\").val(\"\");\r\n\r\n\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n</script>\r\n\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js\" integrity=\"sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\r\n\r\n<script>\r\n\r\n\ttoastr.options = {\r\n\r\n\t\t\"closeButton\": true,\r\n\r\n\t\t\"debug\": false,\r\n\r\n\t\t\"newestOnTop\": false,\r\n\r\n\t\t\"progressBar\": true,\r\n\r\n\t\t\"positionClass\": \"toast-top-right\",\r\n\r\n\t\t\"preventDuplicates\": false,\r\n\r\n\t\t\"onclick\": null,\r\n\r\n\t\t\"showDuration\": \"300\",\r\n\r\n\t\t\"hideDuration\": \"1000\",\r\n\r\n\t\t\"timeOut\": \"5000\",\r\n\r\n\t\t\"extendedTimeOut\": \"1000\",\r\n\r\n\t\t\"showEasing\": \"swing\",\r\n\r\n\t\t\"hideEasing\": \"linear\",\r\n\r\n\t\t\"showMethod\": \"fadeIn\",\r\n\r\n\t\t\"hideMethod\": \"fadeOut\"\r\n\r\n\t};\r\n\r\n\t/*$(\"#vergiNumarasi\").on('blur', function () {\r\n\r\n\t\tlet str = $(\"#vergiNumarasi\").val();\r\n\r\n\t\tif (str.length == 11) {\r\n\r\n\t\t\t$(\"#c_soyad\").css(\"display\", \"block\");\r\n\r\n\t\t\t$(\"#cariSoyad\").prop('required', true);\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', false);\r\n\r\n\t\t} else {\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', true);\r\n\r\n\t\t\t$(\"#c_soyad\").css(\"display\", \"none\");\r\n\r\n\t\t\t$(\"#cariSoyad\").prop('required', false);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif (str.length == 10 || str.length == 11) {\r\n\r\n\t\t\t$.ajax({\r\n\r\n\t\t\t\turl: \"<?= env('BASE_URL'); ?>/Edonusum/Auth/CheckUser\",\r\n\r\n\t\t\t\tmethod: \"POST\",\r\n\r\n\t\t\t\tdata: {vergiNumarasi: str},\r\n\r\n\t\t\t\tdataType: 'json',\r\n\r\n\t\t\t\tbeforeSend: function () {\r\n\r\n\t\t\t\t\t$(\"#loading-image\").show();\r\n\r\n\t\t\t\t\t$(':input[type=\"submit\"]').prop('disabled', true);\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsuccess: function (result) {\r\n\r\n\t\t\t\t\tconsole.log(result);\r\n\r\n\t\t\t\t\tlet alias = result.alias;\r\n\r\n\t\t\t\t\t//let identifier = result.identifier;\r\n\r\n\t\t\t\t\tlet title = result.title;\r\n\r\n\t\t\t\t\tif (alias != null) {\r\n\r\n\t\t\t\t\t\tif(str.length == 11)\r\n\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t$(\"#c_soyad\").css(\"display\", \"block\");\r\n\r\n\t\t\t\t\t\t\tvar titleSplit=title.trim().split(' ');\r\n\r\n\t\t\t\t\t\t\t$(\"#cariSoyad\").val(titleSplit[titleSplit.length-1]);\r\n\r\n\t\t\t\t\t\t\tvar ad=\"\";\r\n\r\n\t\t\t\t\t\t\tfor(var i=0;i<titleSplit.length-1;i++)\r\n\r\n\t\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t\tad+=titleSplit[i]+ \" \";\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t$(\"#cariAd\").val(ad.trim());\r\n\r\n\t\t\t\t\t\t\t$('#cariSoyad').prop('disabled', true);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telse\r\n\r\n\t\t\t\t\t\t\t$(\"#cariAd\").val(title);\r\n\r\n\t\t\t\t\t\t$(\"#alias_pk\").val(alias);\r\n\r\n\t\t\t\t\t\t$(\"#mukellef_mark\").css(\"display\", \"block\");\r\n\r\n\t\t\t\t\t\t$('#cariAd').prop('disabled', true);\r\n\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t$(\"#cariAd\").val(\"\");\r\n\r\n\t\t\t\t\t\t$(\"#alias_pk\").val(\"\");\r\n\r\n\t\t\t\t\t\t//$('#myForm').trigger(\"reset\");\r\n\r\n\t\t\t\t\t\t$(\"#mukellef_mark\").css(\"display\", \"none\");\r\n\r\n\t\t\t\t\t\t$('#cariAd').prop('disabled', false);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(':input[type=\"submit\"]').prop('disabled', false);\r\n\r\n\t\t\t\t\t$(\"#loading-image\").hide();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t});*/\r\n\r\n\r\n\r\n\t// TC Kimlik/Vergi numarası uzunluğuna göre alan kontrolü (AJAX sorguları kaldırıldı)\r\n\r\n\t$(\"#vergiNumarasi\").on('input', function () {\r\n\r\n\t\tlet str = $(\"#vergiNumarasi\").val();\r\n\r\n\t\t\r\n\r\n\t\tif (str.length == 11) {\r\n\r\n\t\t\t// TC Kimlik numarası - soyad alanını göster\r\n\r\n\t\t\t$(\"#c_soyad\").css(\"display\", \"block\");\r\n\r\n\t\t\t$(\"#cariSoyad\").prop('required', true);\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', false);\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Vergi numarası - soyad alanını gizle\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', true);\r\n\r\n\t\t\t$(\"#c_soyad\").css(\"display\", \"none\");\r\n\r\n\t\t\t$(\"#cariSoyad\").prop('required', false);\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\r\n\t/*$(\"#vergiNumarasi\").on('blur', function () {\r\n\r\n\r\n\r\n\t\tlet str = $(\"#vergiNumarasi\").val();\r\n\r\n\r\n\r\n\t\t$(\"#cariSoyad\").val(\"\");\r\n\r\n\t\t$(\"#cariAd\").val(\"\")\r\n\r\n\t\tif (str.length == 11) {\r\n\r\n\t\t\t$(\"#c_soyad\").css(\"display\", \"block\");\r\n\r\n\t\t\t$(\"#cariSoyad\").prop('required', true);\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', false);\r\n\r\n\t\t} else {\r\n\r\n\r\n\r\n\t\t\t$(\"#vergiDairesi\").prop('required', true);\r\n\r\n\t\t\t$(\"#c_soyad\").css(\"display\", \"none\");\r\n\r\n\t\t\t$(\"#cariSoyad\").prop('required', false);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif (str.length == 10 || str.length == 11) {\r\n\r\n\t\t\t$.ajax({\r\n\r\n\t\t\t\turl: \"<?= env('BASE_URL'); ?>/Cari/gibVknTcknSorgula\",\r\n\r\n\t\t\t\tmethod: \"POST\",\r\n\r\n\t\t\t\tdata: {vergiNumarasi: str},\r\n\r\n\t\t\t\tdataType: 'json',\r\n\r\n\t\t\t\tbeforeSend: function () {\r\n\r\n\t\t\t\t\t$(\"#loading-image\").show();\r\n\r\n\t\t\t\t\t$(':input[type=\"submit\"]').prop('disabled', true);\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsuccess: function (result) {\r\n\r\n;\r\n\r\n\t\t\t\t\tif (str.length == 11) {\r\n\r\n\t\t\t\t\t\tlet ad = result.ad;\r\n\r\n\t\t\t\t\t\tlet soyad = result.soyad;\r\n\r\n\t\t\t\t\t\t$(\"#c_soyad\").css(\"display\", \"block\");\r\n\r\n\t\t\t\t\t\t$(\"#cariAd\").val(ad);\r\n\r\n\t\t\t\t\t\t$(\"#cariSoyad\").val(soyad);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t$(\"#c_soyad\").css(\"display\", \"none\");\r\n\r\n\t\t\t\t\t\t$(\"#cariAd\").val(result.unvan);\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t$(':input[type=\"submit\"]').prop('disabled', false);\r\n\r\n\t\t\t\t\t$(\"#loading-image\").hide();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\t<?php if($modulSorgula) { ?>\r\n\r\n\t\t\t$.ajax({\r\n\r\n\t\t\t\turl: \"<?= env('BASE_URL'); ?>/Edonusum/Auth/CheckUser\",\r\n\r\n\t\t\t\tmethod: \"POST\",\r\n\r\n\t\t\t\tdata: {vergiNumarasi: str},\r\n\r\n\t\t\t\tdataType: 'json',\r\n\r\n\t\t\t\tbeforeSend: function () {\r\n\r\n\t\t\t\t\t$(\"#loading-image\").show();\r\n\r\n\t\t\t\t\t$(':input[type=\"submit\"]').prop('disabled', true);\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsuccess: function (result) {\r\n\r\n\t\t\t\t\tlet alias = result.alias;\r\n\r\n\t\t\t\t\tif (alias != null) {\r\n\r\n\t\t\t\t\t\t$(\"#alias_pk\").val(alias);\r\n\r\n\t\t\t\t\t\t$(\"#mukellef_mark\").css(\"display\", \"block\");\r\n\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t$(\"#alias_pk\").val(\"\");\r\n\r\n\t\t\t\t\t\t$(\"#mukellef_mark\").css(\"display\", \"none\");\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(':input[type=\"submit\"]').prop('disabled', false);\r\n\r\n\t\t\t\t\t$(\"#loading-image\").hide();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t<?php } ?>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\r\n\t});*/\r\n\r\n\r\n\r\n\r\n\r\n\t$(\"#cari_eposta\").on('blur', function () {\r\n\r\n\t\tvar eposta= $(\"#cari_eposta\").val();\r\n\r\n\t\tvar regex = /^([a-zA-Z0-9_\\.\\-\\+])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n\r\n\t\tif(!regex.test(eposta)) {\r\n\r\n\t\t\ttoastr.warning(\"Geçerli bir e-posta giriniz.\");\r\n\r\n\t\t\tif(document.getElementById(\"cari_eposta\").required == true)\r\n\r\n\t\t\t\t$(\"#kydtBTN\").prop(\"disabled\", true);\r\n\r\n\t\t}\r\n\r\n\t\telse {\r\n\r\n\t\t\t$(\"#kydtBTN\").prop('disabled', false);\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n</script>\r\n\r\n\r\n\r\n<script type=\"text/javascript\">\r\n\r\n\t$(document).ready(function () {\r\n\r\n\t\t$(\"#il\").select2({\r\n\r\n\t\t\twidth: '100%'\r\n\r\n\t\t});\t\t$(\"#cariGrupKodu\").select2({\r\n\r\n\t\t\twidth: '100%'\r\n\r\n\t\t});\r\n\r\n\r\n\r\n\t\t// Form submit blocking kodu kaldırıldı - güncelleme çalışması için\r\n\r\n\t});\r\n\r\n</script>\r\n\r\n\r\n\r\n<script>\r\n\r\n$(document).ready(function () {\r\n\r\n\t// Submit butonunu başlangıçta etkinleştir\r\n\r\n\t$(\"#kydtBTN\").prop('disabled', false);\r\n\r\n\t\r\n\r\n\t<?php if($isEditMode): ?>\r\n\r\n\t\t// Edit modunda - mevcut değerleri kullan\r\n\r\n\t\t$('#cari_input').show();\r\n\r\n\t\t<?php if($cari->cari_ilce): ?>\r\n\r\n\t\t\t// İl seçildikten sonra ilçeleri yükle\r\n\r\n\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t$('#il').trigger('change');\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t$('#ilce').val('<?= $cari->cari_ilce ?>');\r\n\r\n\t\t\t\t}, 500);\r\n\r\n\t\t\t}, 100);\r\n\r\n\t\t<?php endif; ?>\r\n\r\n\t<?php else: ?>\r\n\r\n\t// Create modunda - varsayılan değerler\r\n\r\n\t\t$('#cariBireysel').val('0').trigger('change');\r\n\r\n\t$('#cari_input').show();\r\n\r\n\t<?php endif; ?>\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n<!-- Görsel Modal -->\r\n\r\n<div class=\"modal fade\" id=\"imageModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"imageModalLabel\" aria-hidden=\"true\">\r\n\r\n\t<div class=\"modal-dialog modal-lg\" role=\"document\">\r\n\r\n\t\t<div class=\"modal-content\">\r\n\r\n\t\t\t<div class=\"modal-header\">\r\n\r\n\t\t\t\t<h5 class=\"modal-title\" id=\"imageModalLabel\">Görsel Önizleme</h5>\r\n\r\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\r\n\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\r\n\r\n\t\t\t\t</button>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"modal-body text-center\">\r\n\r\n\t\t\t\t<img id=\"modalImage\" src=\"\" class=\"img-fluid\" style=\"max-width: 100%; height: auto;\">\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n<script>\r\n\r\n// Görsel modal fonksiyonu\r\n\r\nfunction showImageModal(imageSrc) {\r\n\r\n\t$('#modalImage').attr('src', imageSrc);\r\n\r\n\t$('#imageModal').modal('show');\r\n\r\n}\r\n\r\n\r\n\r\n// Görsel silme fonksiyonu\r\n\r\nfunction deleteImage(cariId, dosyaAdi, index) {\r\n\r\n\tif(confirm('Bu görseli silmek istediğinizden emin misiniz?')) {\r\n\r\n\t\t$.ajax({\r\n\r\n\t\t\turl: '<?= base_url(\"cari/gorselSil\") ?>',\r\n\r\n\t\t\ttype: 'POST',\r\n\r\n\t\t\tdata: {\r\n\r\n\t\t\t\tcari_id: cariId,\r\n\r\n\t\t\t\tdosya_adi: dosyaAdi\r\n\r\n\t\t\t},\r\n\r\n\t\t\tdataType: 'json',\r\n\r\n\t\t\tsuccess: function(response) {\r\n\r\n\t\t\t\tif(response.success) {\r\n\r\n\t\t\t\t\t$('#gorsel_' + index).fadeOut(function() {\r\n\r\n\t\t\t\t\t\t$(this).remove();\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\ttoastr.success('Görsel başarıyla silindi.');\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttoastr.error('Hata: ' + response.message);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\terror: function() {\r\n\r\n\t\t\t\ttoastr.error('Bir hata oluştu. Lütfen tekrar deneyin.');\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n// Evrak silme fonksiyonu\r\n\r\nfunction deleteDocument(cariId, dosyaAdi, index) {\r\n\r\n\tif(confirm('Bu evrakı silmek istediğinizden emin misiniz?')) {\r\n\r\n\t\t$.ajax({\r\n\r\n\t\t\turl: '<?= base_url(\"cari/evrakSil\") ?>',\r\n\r\n\t\t\ttype: 'POST',\r\n\r\n\t\t\tdata: {\r\n\r\n\t\t\t\tcari_id: cariId,\r\n\r\n\t\t\t\tdosya_adi: dosyaAdi\r\n\r\n\t\t\t},\r\n\r\n\t\t\tdataType: 'json',\r\n\r\n\t\t\tsuccess: function(response) {\r\n\r\n\t\t\t\tif(response.success) {\r\n\r\n\t\t\t\t\t$('#evrak_' + index).fadeOut(function() {\r\n\r\n\t\t\t\t\t\t$(this).remove();\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\ttoastr.success('Evrak başarıyla silindi.');\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttoastr.error('Hata: ' + response.message);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\terror: function() {\r\n\r\n\t\t\t\ttoastr.error('Bir hata oluştu. Lütfen tekrar deneyin.');\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\r\n</script>\r\n\r\n<!-- Mobile Form Fix for Customer Creation -->\r\n<script>\r\n// Detect if user is on mobile device\r\nfunction isMobileDevice() {\r\n    return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1) || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n}\r\n\r\n// Mobile-specific form submission fix\r\nif (isMobileDevice()) {\r\n    console.log('Mobile device detected - applying mobile form fixes');\r\n    \r\n    $(document).ready(function() {\r\n        // Remove submit button disabling on mobile to prevent stuck forms\r\n        $(':input[type=\"submit\"]').prop('disabled', false);\r\n        \r\n        // Disable select2 on mobile devices for better compatibility\r\n        if (isMobileDevice()) {\r\n            $('.select').removeClass('select').addClass('form-control mobile-select');\r\n            \r\n            // Destroy any existing select2 instances\r\n            if ($.fn.select2) {\r\n                $('.select2-hidden-accessible').select2('destroy');\r\n            }\r\n            \r\n            // Ensure dropdowns work properly on mobile\r\n            $('.mobile-select').each(function() {\r\n                $(this).css({\r\n                    'display': 'block',\r\n                    'width': '100%',\r\n                    'padding': '12px',\r\n                    'font-size': '16px',\r\n                    'border': '1px solid #ddd',\r\n                    'border-radius': '4px',\r\n                    'background-color': 'white'\r\n                });\r\n            });\r\n        }\r\n        \r\n        // Add mobile-specific form submission handler\r\n        $('#myForm').on('submit', function(e) {\r\n            console.log('Mobile form submission started');\r\n            \r\n            // Check required fields manually for mobile\r\n            var isValid = true;\r\n            var missingFields = [];\r\n            \r\n            // Check required text inputs\r\n            $('input[required], select[required]').each(function() {\r\n                var value = $(this).val();\r\n                if (!value || (typeof value === 'string' && value.trim() === '')) {\r\n                    isValid = false;\r\n                    var fieldName = $(this).attr('name') || $(this).attr('id') || 'unnamed field';\r\n                    missingFields.push(fieldName);\r\n                    $(this).css('border', '2px solid red');\r\n                } else {\r\n                    $(this).css('border', '');\r\n                }\r\n            });\r\n            \r\n            // Check file requirement for new customers only\r\n            if (!$('input[name=\"cari_id\"]').length) { // New customer\r\n                var fileInput = $('input[name=\"cari_dosya[]\"]');\r\n                if (fileInput.length && fileInput.prop('required') && (!fileInput[0].files || fileInput[0].files.length === 0)) {\r\n                    isValid = false;\r\n                    missingFields.push('evrak dosyası');\r\n                    fileInput.css('border', '2px solid red');\r\n                } else if (fileInput.length) {\r\n                    fileInput.css('border', '');\r\n                }\r\n            }\r\n            \r\n            if (!isValid) {\r\n                e.preventDefault();\r\n                alert('Lütfen şu zorunlu alanları doldurun: ' + missingFields.join(', '));\r\n                return false;\r\n            }\r\n            \r\n            // Add loading indicator\r\n            var submitBtn = $('#kydtBTN');\r\n            submitBtn.prop('disabled', true);\r\n            submitBtn.text('Kaydediliyor...');\r\n            \r\n            // Log form data for debugging\r\n            try {\r\n                var formData = new FormData(this);\r\n                console.log('Mobile form data being submitted:');\r\n                for (var pair of formData.entries()) {\r\n                    console.log(pair[0] + ': ' + (typeof pair[1] === 'object' ? 'File: ' + pair[1].name : pair[1]));\r\n                }\r\n            } catch(e) {\r\n                console.log('Could not log form data:', e);\r\n            }\r\n            \r\n            return true;\r\n        });\r\n        \r\n        // Override problematic AJAX validations on mobile\r\n        if (isMobileDevice()) {\r\n            // Mobile-specific district loading\r\n            $('.ajaxIller, #il').off('change.ajax').on('change', function() {\r\n                var selectedIl = $(this).val();\r\n                console.log('Mobile: İl seçildi:', selectedIl);\r\n                \r\n                if (selectedIl) {\r\n                    // Show loading indicator\r\n                    $('#ilce').html('<option>İlçeler yükleniyor...</option>').prop('disabled', true);\r\n                    \r\n                    // Mobile-friendly AJAX request with longer timeout\r\n                    $.ajax({\r\n                        url: '<?= base_url(\"cari/getIlceler\") ?>',\r\n                        type: 'POST',\r\n                        data: { il_id: selectedIl },\r\n                        timeout: 15000, // 15 second timeout for mobile\r\n                        dataType: 'json',\r\n                        success: function(result) {\r\n                            console.log('Mobile: İlçe verisi alındı:', result);\r\n                            if (result && result.status !== 'error' && result.data) {\r\n                                var options = '<option value=\"\">İlçe Seçiniz</option>';\r\n                                for (var i = 0; i < result.data.length; i++) {\r\n                                    options += '<option value=\"' + result.data[i].id + '\">' + result.data[i].ilce + '</option>';\r\n                                }\r\n                                $('#ilce').html(options).prop('disabled', false);\r\n                                \r\n                                // Force refresh for mobile browsers\r\n                                setTimeout(function() {\r\n                                    $('#ilce').trigger('change');\r\n                                }, 100);\r\n                                \r\n                                // Re-enable form submission\r\n                                $(':input[type=\"submit\"]').prop('disabled', false);\r\n                            } else {\r\n                                $('#ilce').html('<option value=\"\">İlçe bulunamadı</option>').prop('disabled', false);\r\n                                console.error('Mobile: İlçe verisi alınamadı:', result);\r\n                            }\r\n                        },\r\n                        error: function(xhr, status, error) {\r\n                            console.error('Mobile: İlçe AJAX hatası:', status, error);\r\n                            $('#ilce').html('<option value=\"\">İlçe yüklenemedi - tekrar deneyin</option>').prop('disabled', false);\r\n                            \r\n                            // Fallback: Still allow form submission\r\n                            $(':input[type=\"submit\"]').prop('disabled', false);\r\n                        }\r\n                    });\r\n                } else {\r\n                    $('#ilce').html('<option value=\"\">Önce il seçiniz</option>').prop('disabled', false);\r\n                }\r\n            });\r\n        } else {\r\n            // Keep original desktop functionality\r\n            $('.ajaxIller').off('change.ajax').on('change', function() {\r\n                var selectedIl = $(this).val();\r\n                if (selectedIl) {\r\n                    $.ajax({\r\n                        url: '<?= base_url(\"home/get_ilceler\") ?>',\r\n                        type: 'POST',\r\n                        data: { il_id: selectedIl },\r\n                        success: function(result) {\r\n                            if (result && result.status !== 'error' && result.data) {\r\n                                var options = '<option value=\"\">İlçe Seçiniz</option>';\r\n                                for (var i = 0; i < result.data.length; i++) {\r\n                                    options += '<option value=\"' + result.data[i].id + '\">' + result.data[i].ilce + '</option>';\r\n                                }\r\n                                $('#ilce').html(options);\r\n                            }\r\n                        },\r\n                        error: function() {\r\n                            console.log('District loading failed');\r\n                        }\r\n                    });\r\n                }\r\n                $(':input[type=\"submit\"]').prop('disabled', false);\r\n            });\r\n        }\r\n        \r\n        // Disable problematic client-side validations on mobile\r\n        $('#cariBireysel').off('change.validation').on('change', function() {\r\n            $(':input[type=\"submit\"]').prop('disabled', false);\r\n            // Allow form submission even if validation hasn't completed\r\n        });\r\n        \r\n        // Force enable submit button after any form interaction\r\n        $('#myForm input, #myForm select, #myForm textarea').on('change keyup', function() {\r\n            setTimeout(function() {\r\n                $(':input[type=\"submit\"]').prop('disabled', false);\r\n            }, 100);\r\n        });\r\n    });\r\n    \r\n    // Add mobile-specific CSS\r\n    var mobileCSS = `\r\n        @media (max-width: 768px) {\r\n            .form-control {\r\n                font-size: 16px !important; /* Prevents zoom on iOS */\r\n                -webkit-appearance: none;\r\n                border-radius: 4px;\r\n            }\r\n            \r\n            input[type=\"file\"] {\r\n                padding: 10px;\r\n                border: 1px solid #ccc;\r\n                font-size: 16px;\r\n            }\r\n            \r\n            #kydtBTN {\r\n                padding: 15px;\r\n                font-size: 18px;\r\n                width: 100% !important;\r\n                margin-top: 20px;\r\n                -webkit-appearance: none;\r\n                border-radius: 4px;\r\n            }\r\n            \r\n            /* Disable select2 on mobile for better compatibility */\r\n            .select2-container {\r\n                display: none !important;\r\n            }\r\n            \r\n            .select {\r\n                display: block !important;\r\n                width: 100% !important;\r\n                padding: 12px !important;\r\n                font-size: 16px !important;\r\n                border: 1px solid #ddd !important;\r\n                border-radius: 4px !important;\r\n                background-color: white !important;\r\n                -webkit-appearance: none !important;\r\n                -moz-appearance: none !important;\r\n                appearance: none !important;\r\n            }\r\n            \r\n            /* Special styling for district dropdown */\r\n            #ilce {\r\n                min-height: 45px !important;\r\n                background-image: url('data:image/svg+xml;utf8,<svg fill=\"black\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>') !important;\r\n                background-repeat: no-repeat !important;\r\n                background-position: right 10px center !important;\r\n                background-size: 20px !important;\r\n                padding-right: 40px !important;\r\n            }\r\n            \r\n            /* Ensure proper mobile form layout */\r\n            .form-group {\r\n                margin-bottom: 20px !important;\r\n            }\r\n            \r\n            .form-group label {\r\n                display: block !important;\r\n                margin-bottom: 8px !important;\r\n                font-weight: bold !important;\r\n            }\r\n        }\r\n    `;\r\n    \r\n    var style = document.createElement('style');\r\n    style.innerHTML = mobileCSS;\r\n    document.head.appendChild(style);\r\n    \r\n    // Add mobile debug panel if needed (can be enabled for testing)\r\n    if (window.location.search.includes('debug=1')) {\r\n        var debugPanel = document.createElement('div');\r\n        debugPanel.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; background: black; color: white; padding: 10px; z-index: 9999; font-size: 12px; max-height: 200px; overflow-y: scroll;';\r\n        debugPanel.innerHTML = '<strong>Mobil Debug Panel (debug=1 parametresi ile aktif)</strong><br>';\r\n        document.body.appendChild(debugPanel);\r\n        \r\n        // Override console.log for mobile debugging\r\n        var originalLog = console.log;\r\n        console.log = function() {\r\n            originalLog.apply(console, arguments);\r\n            debugPanel.innerHTML += Array.from(arguments).join(' ') + '<br>';\r\n            debugPanel.scrollTop = debugPanel.scrollHeight;\r\n        };\r\n        \r\n        console.log('Mobil debug panel aktif');\r\n        console.log('User Agent: ' + navigator.userAgent);\r\n        console.log('Screen Size: ' + screen.width + 'x' + screen.height);\r\n        console.log('Window Size: ' + window.innerWidth + 'x' + window.innerHeight);\r\n    }\r\n}\r\n</script>\r\n\r\n</body>\r\n\r\n</html>\r\n\r\n"
        }
    ]
}