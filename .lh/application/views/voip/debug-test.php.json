{
    "sourceFile": "application/views/voip/debug-test.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1755012755218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1755012755218,
            "name": "Commit-0",
            "content": "<?php\r\n// Debug iÃ§in basit test sayfasÄ±\r\n// Bu dosyayÄ± test ettikten sonra silebilirsiniz\r\n\r\ndefined('BASEPATH') OR exit('No direct script access allowed');\r\n\r\necho \"<h1>HakediÅŸ Bayi Hesapla - Debug Test</h1>\";\r\n\r\n// Include dosyalarÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± kontrol et\r\n$includes = [\r\n    'head-tags' => APPPATH . 'views/include/head-tags.php',\r\n    'sidebar' => APPPATH . 'views/include/sidebar.php', \r\n    'header' => APPPATH . 'views/include/header.php',\r\n    'footer-js' => APPPATH . 'views/include/footer-js.php'\r\n];\r\n\r\necho \"<h3>Include Dosya Kontrolleri:</h3>\";\r\nforeach($includes as $name => $path) {\r\n    $status = file_exists($path) ? \"âœ… Mevcut\" : \"âŒ BulunamadÄ±\";\r\n    echo \"<p><strong>{$name}:</strong> {$status} - {$path}</p>\";\r\n}\r\n\r\n// VeritabanÄ± baÄŸlantÄ±sÄ±nÄ± kontrol et\r\necho \"<h3>VeritabanÄ± Kontrolleri:</h3>\";\r\ntry {\r\n    $this->load->database();\r\n    \r\n    // voip_iris_rapor tablosunu kontrol et\r\n    if ($this->db->table_exists('voip_iris_rapor')) {\r\n        echo \"<p>âœ… voip_iris_rapor tablosu mevcut</p>\";\r\n        \r\n        // TamamlandÄ± statÃ¼sÃ¼ndeki kayÄ±t sayÄ±sÄ±nÄ± kontrol et\r\n        $this->db->where('satis_durumu', 'TamamlandÄ±');\r\n        $count = $this->db->count_all_results('voip_iris_rapor');\r\n        echo \"<p>ğŸ“Š TamamlandÄ± statÃ¼sÃ¼nde {$count} kayÄ±t var</p>\";\r\n        \r\n    } else {\r\n        echo \"<p>âŒ voip_iris_rapor tablosu bulunamadÄ±</p>\";\r\n    }\r\n    \r\n    // Yetki tablosunu kontrol et\r\n    if ($this->db->table_exists('kullanici_grubu_yetkisi')) {\r\n        echo \"<p>âœ… kullanici_grubu_yetkisi tablosu mevcut</p>\";\r\n        \r\n        // 1907 modÃ¼l yetkisini kontrol et\r\n        $this->db->where('kgy_modul', 1907);\r\n        $yetki_count = $this->db->count_all_results('kullanici_grubu_yetkisi');\r\n        echo \"<p>ğŸ”‘ ModÃ¼l 1907 iÃ§in {$yetki_count} yetki kaydÄ± var</p>\";\r\n        \r\n    } else {\r\n        echo \"<p>âŒ kullanici_grubu_yetkisi tablosu bulunamadÄ±</p>\";\r\n    }\r\n    \r\n} catch(Exception $e) {\r\n    echo \"<p>âŒ VeritabanÄ± hatasÄ±: \" . $e->getMessage() . \"</p>\";\r\n}\r\n\r\n// Session ve yetki kontrolÃ¼\r\necho \"<h3>Session ve Yetki Kontrolleri:</h3>\";\r\n$control = session(\"r\", \"login_info\");\r\nif($control) {\r\n    echo \"<p>âœ… KullanÄ±cÄ± giriÅŸ yapmÄ±ÅŸ</p>\";\r\n    echo \"<p>ğŸ‘¤ KullanÄ±cÄ± ID: \" . $control->kullanici_id . \"</p>\";\r\n} else {\r\n    echo \"<p>âŒ KullanÄ±cÄ± giriÅŸ yapmamÄ±ÅŸ</p>\";\r\n}\r\n\r\n// Helper fonksiyonlarÄ±nÄ± kontrol et\r\nif(function_exists('grup_modul_yetkisi_var')) {\r\n    echo \"<p>âœ… grup_modul_yetkisi_var fonksiyonu mevcut</p>\";\r\n    \r\n    $yetki_1900 = grup_modul_yetkisi_var(1900);\r\n    $yetki_1907 = grup_modul_yetkisi_var(1907);\r\n    \r\n    echo \"<p>ğŸ” ModÃ¼l 1900 yetkisi: \" . ($yetki_1900 ? \"Var\" : \"Yok\") . \"</p>\";\r\n    echo \"<p>ğŸ” ModÃ¼l 1907 yetkisi: \" . ($yetki_1907 ? \"Var\" : \"Yok\") . \"</p>\";\r\n} else {\r\n    echo \"<p>âŒ grup_modul_yetkisi_var fonksiyonu bulunamadÄ±</p>\";\r\n}\r\n\r\necho \"<hr>\";\r\necho \"<p><a href='\" . base_url('voip/hakedis-bayi-hesapla') . \"'>HakediÅŸ Bayi Hesapla SayfasÄ±na Git</a></p>\";\r\necho \"<p><em>Bu debug sayfasÄ±nÄ± test ettikten sonra silebilirsiniz.</em></p>\";\r\n?>\r\n"
        }
    ]
}