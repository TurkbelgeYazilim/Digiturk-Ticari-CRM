{
    "sourceFile": "application/views/voip/numara-tanimla.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1755876597163,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1755877774861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1083,10 +1083,8 @@\n \t</script>\r\n \r\n \r\n \r\n-\t<?php $this->load->view(\"include/footer-js\"); ?>\r\n-\r\n </body>\r\n \r\n </html>\r\n \r\n"
                }
            ],
            "date": 1755876597163,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n\r\n<html lang=\"tr\">\r\n\r\n<head>\r\n\r\n\t<?php $this->load->view(\"include/head-tags\"); ?>\r\n\r\n\t<style>\r\n\r\n\t.card {\r\n\r\n\t\tmargin-bottom: 20px;\r\n\r\n\t\tborder: 1px solid #e9ecef;\r\n\r\n\t\tborder-radius: 0.375rem;\r\n\r\n\t\tbox-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.card-header {\r\n\r\n\t\tbackground-color: #f8f9fa;\r\n\r\n\t\tborder-bottom: 1px solid #e9ecef;\r\n\r\n\t\tpadding: 0.75rem 1.25rem;\r\n\r\n\t\tfont-weight: 600;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.card-body {\r\n\r\n\t\tpadding: 1.25rem;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.table th {\r\n\r\n\t\tbackground-color: #f8f9fa;\r\n\r\n\t\tborder-top: none;\r\n\r\n\t\tfont-weight: 600;\r\n\r\n\t\tfont-size: 0.875rem;\r\n\r\n\t\ttext-transform: uppercase;\r\n\r\n\t\tletter-spacing: 0.05em;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.btn-sm {\r\n\r\n\t\tpadding: 0.25rem 0.5rem;\r\n\r\n\t\tfont-size: 0.875rem;\r\n\r\n\t\tline-height: 1.5;\r\n\r\n\t\tborder-radius: 0.2rem;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.form-group {\r\n\r\n\t\tmargin-bottom: 1rem;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.modal-header {\r\n\r\n\t\tbackground-color: #007bff;\r\n\r\n\t\tcolor: white;\r\n\r\n\t\tborder-bottom: none;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.modal-header .close {\r\n\r\n\t\tcolor: white;\r\n\r\n\t\topacity: 0.8;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.modal-header .close:hover {\r\n\r\n\t\topacity: 1;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.alert {\r\n\r\n\t\tmargin-top: 15px;\r\n\r\n\t\tborder: none;\r\n\r\n\t\tborder-radius: 0.375rem;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.alert-success {\r\n\r\n\t\tbackground-color: #d4edda;\r\n\r\n\t\tcolor: #155724;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.alert-danger {\r\n\r\n\t\tbackground-color: #f8d7da;\r\n\r\n\t\tcolor: #721c24;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.badge {\r\n\r\n\t\tfont-size: 0.75em;\r\n\r\n\t\tpadding: 0.25em 0.4em;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.badge-primary {\r\n\r\n\t\tbackground-color: #007bff;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.text-muted {\r\n\r\n\t\tcolor: #6c757d !important;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.empty-state {\r\n\r\n\t\ttext-align: center;\r\n\r\n\t\tpadding: 3rem 1rem;\r\n\r\n\t\tcolor: #6c757d;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t.empty-state i {\r\n\r\n\t\tfont-size: 3rem;\r\n\r\n\t\tmargin-bottom: 1rem;\r\n\r\n\t\topacity: 0.5;\r\n\r\n\t}\r\n\r\n\t</style>\r\n\r\n</head>\r\n\r\n\r\n\r\n<body>\r\n\r\n\t<!-- Main Wrapper -->\r\n\r\n\t<div class=\"main-wrapper\">\r\n\r\n\t\t\r\n\r\n\t\t<!-- Header -->\r\n\r\n\t\t<?php $this->load->view(\"include/header\"); ?>\r\n\r\n\t\t<!-- /Header -->\r\n\r\n\r\n\r\n\t\t<!-- Sidebar -->\r\n\r\n\t\t<?php $this->load->view(\"include/sidebar\"); ?>\r\n\r\n\t\t<!-- /Sidebar -->\r\n\r\n\t\t\r\n\r\n\t\t<!-- Page Wrapper -->\r\n\r\n\t\t<div class=\"page-wrapper\">\r\n\r\n\t\t\t<div class=\"content container-fluid\">\r\n\r\n\t\t\t<!-- Page Header -->\r\n\r\n\t\t\t<div class=\"page-header\">\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t<div class=\"col-sm-10\">\r\n\r\n\t\t\t\t\t\t<h3 class=\"page-title\">Numara Tanımla</h3>\r\n\r\n\t\t\t\t\t\t<ul class=\"breadcrumb\">\r\n\r\n\t\t\t\t\t\t\t<li class=\"breadcrumb-item\"><a href=\"<?= base_url(); ?>\">Anasayfa</a></li>\r\n\r\n\t\t\t\t\t\t\t<li class=\"breadcrumb-item\"><a href=\"#\">Voip & Hakediş</a></li>\r\n\r\n\t\t\t\t\t\t\t<li class=\"breadcrumb-item active\">Numara Tanımla</li>\r\n\r\n\t\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- /Page Header -->\r\n\r\n\t\t\t\r\n\r\n\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t<div class=\"col-12\">\r\n\r\n\t\t\t\t\t\t<!-- Numara Ekleme Formu -->\r\n\r\n\t\t\t\t\t\t<div class=\"card\">\r\n\r\n\t\t\t\t\t\t\t<div class=\"card-header\">\r\n\r\n\t\t\t\t\t\t\t\t<i class=\"fas fa-phone mr-2\"></i> Yeni Numara Ekle\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"card-body\">\r\n\r\n\t\t\t\t\t\t\t\t<form id=\"numaraForm\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"operator_id\">Operatör <span class=\"text-danger\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control\" id=\"operator_id\" name=\"operator_id\" required>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Operatör Seçin</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach($operatorler as $operator): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?= $operator->operator_id ?>\"><?= $operator->operator_adi ?></option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"voip_numara\">VoIP Numara <span class=\"text-danger\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"voip_numara\" name=\"voip_numara\" placeholder=\"Örn: +905551234567\" required maxlength=\"30\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"kullanici_adi\">Kullanıcı Adı</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"kullanici_adi\" name=\"kullanici_adi\" placeholder=\"SIP kullanıcı adı\" maxlength=\"100\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"sifre\">Şifre</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" id=\"sifre\" name=\"sifre\" placeholder=\"SIP şifresi\" maxlength=\"100\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"ip_adresi\">IP Adresi</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"ip_adresi\" name=\"ip_adresi\" placeholder=\"Örn: 192.168.1.100\" maxlength=\"45\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"durum\">Durum</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control\" id=\"durum\" name=\"durum\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\" selected>Aktif</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"0\">Pasif</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"aciklama\">Açıklama</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<textarea class=\"form-control\" id=\"aciklama\" name=\"aciklama\" rows=\"3\" placeholder=\"Numara hakkında açıklama...\"></textarea>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-plus mr-1\"></i> Numara Ekle\r\n\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t<div id=\"mesaj\"></div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t<!-- Numara Listesi -->\r\n\r\n\t\t\t\t\t\t<div class=\"card\">\r\n\r\n\t\t\t\t\t\t\t<div class=\"card-header\">\r\n\r\n\t\t\t\t\t\t\t\t<i class=\"fas fa-list mr-2\"></i> Kayıtlı Numaralar\r\n\r\n\t\t\t\t\t\t\t\t<span class=\"badge badge-primary ml-2\"><?= count($numaralar) ?></span>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"card-body\">\r\n\r\n\t\t\t\t\t\t\t\t<!-- Filtreleme Formu -->\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"card mb-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"card-header\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-filter mr-2\"></i> Filtreleme\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"card-body\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<form method=\"post\" action=\"<?= base_url('voip/numara-tanimla') ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"filtre_numara\">Numara</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"filtre_numara\" name=\"filtre_numara\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   placeholder=\"Numara ara...\" value=\"<?= htmlspecialchars($filtre_numara ?? '') ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"filtre_operator\">Operatör</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control\" id=\"filtre_operator\" name=\"filtre_operator\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Tüm Operatörler</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach($operatorler as $operator): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?= $operator->operator_id ?>\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?= ($filtre_operator == $operator->operator_id) ? 'selected' : '' ?>>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?= $operator->operator_adi ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"filtre_kullanici\">Kullanıcı Adı</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"filtre_kullanici\" name=\"filtre_kullanici\" \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   placeholder=\"Kullanıcı ara...\" value=\"<?= htmlspecialchars($filtre_kullanici ?? '') ?>\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"filtre_durum\">Durum</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control\" id=\"filtre_durum\" name=\"filtre_durum\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Tüm Durumlar</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\" <?= ($filtre_durum === '1') ? 'selected' : '' ?>>Aktif</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"0\" <?= ($filtre_durum === '0') ? 'selected' : '' ?>>Pasif</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-12 d-flex align-items-end justify-content-end\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group mb-0\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-primary mr-2\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-search mr-1\"></i> Filtrele\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"<?= base_url('voip/numara-tanimla') ?>\" class=\"btn btn-secondary\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-times mr-1\"></i> Temizle\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t<?php if(count($numaralar) > 0): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"table-responsive\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<table class=\"table table-striped table-hover\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Operatör</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>VoIP Numara</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Kullanıcı Adı</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>IP Adresi</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Durum</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Açıklama</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>İşlemler</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach($numaralar as $numara): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><?= $numara->numara_id ?></td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"badge badge-primary\"><?= $numara->operator_adi ?? 'Bilinmiyor' ?></span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><strong><?= $numara->voip_numara ?></strong></td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><?= $numara->kullanici_adi ?: '-' ?></td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><?= $numara->ip_adresi ?: '-' ?></td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php \r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$durum = isset($numara->durum) ? $numara->durum : 1;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif($durum == 1): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"badge badge-success\">Aktif</span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php else: ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"badge badge-danger\">Pasif</span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><?= isset($numara->aciklama) && $numara->aciklama ? substr($numara->aciklama, 0, 50) . (strlen($numara->aciklama) > 50 ? '...' : '') : '-' ?></td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-warning btn-sm\" onclick=\"duzenleModal(<?= $numara->numara_id ?>)\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-edit\"></i> Düzenle\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-danger btn-sm\" onclick=\"silOnayi(<?= $numara->numara_id ?>, '<?= $numara->voip_numara ?>')\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash\"></i> Sil\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<?php else: ?>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"empty-state\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-phone\"></i>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<h5>Henüz numara tanımlanmamış</h5>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-muted\">Yukarıdaki formu kullanarak ilk numaranızı ekleyin.</p>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<?php endif; ?>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t\t<!-- /Page Wrapper -->\r\n\r\n\t\t\r\n\r\n\t</div>\r\n\r\n\t<!-- /Main Wrapper -->\r\n\r\n\r\n\r\n\t<!-- Düzenleme Modal -->\r\n\r\n\t<div class=\"modal fade\" id=\"duzenleModal\" tabindex=\"-1\" role=\"dialog\">\r\n\r\n\t\t<div class=\"modal-dialog\" role=\"document\">\r\n\r\n\t\t\t<div class=\"modal-content\">\r\n\r\n\t\t\t\t<div class=\"modal-header\">\r\n\r\n\t\t\t\t\t<h5 class=\"modal-title\">\r\n\r\n\t\t\t\t\t\t<i class=\"fas fa-edit mr-2\"></i> Numara Düzenle\r\n\r\n\t\t\t\t\t</h5>\r\n\r\n\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n\r\n\t\t\t\t\t\t<span>&times;</span>\r\n\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"modal-body\">\r\n\r\n\t\t\t\t\t<form id=\"duzenleForm\">\r\n\r\n\t\t\t\t\t\t<input type=\"hidden\" id=\"edit_numara_id\" name=\"numara_id\">\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t<label for=\"edit_operator_id\">Operatör <span class=\"text-danger\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t<select class=\"form-control\" id=\"edit_operator_id\" name=\"operator_id\" required>\r\n\r\n\t\t\t\t\t\t\t\t<option value=\"\">Operatör Seçin</option>\r\n\r\n\t\t\t\t\t\t\t\t<?php foreach($operatorler as $operator): ?>\r\n\r\n\t\t\t\t\t\t\t\t\t<option value=\"<?= $operator->operator_id ?>\"><?= $operator->operator_adi ?></option>\r\n\r\n\t\t\t\t\t\t\t\t<?php endforeach; ?>\r\n\r\n\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t<label for=\"edit_voip_numara\">VoIP Numara <span class=\"text-danger\">*</span></label>\r\n\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"edit_voip_numara\" name=\"voip_numara\" required maxlength=\"30\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t<label for=\"edit_kullanici_adi\">Kullanıcı Adı</label>\r\n\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"edit_kullanici_adi\" name=\"kullanici_adi\" maxlength=\"100\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t<label for=\"edit_sifre\">Şifre</label>\r\n\r\n\t\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" id=\"edit_sifre\" name=\"sifre\" maxlength=\"100\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t<label for=\"edit_ip_adresi\">IP Adresi</label>\r\n\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"edit_ip_adresi\" name=\"ip_adresi\" maxlength=\"45\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t<label for=\"edit_durum\">Durum</label>\r\n\r\n\t\t\t\t\t\t\t<select class=\"form-control\" id=\"edit_durum\" name=\"durum\">\r\n\r\n\t\t\t\t\t\t\t\t<option value=\"1\">Aktif</option>\r\n\r\n\t\t\t\t\t\t\t\t<option value=\"0\">Pasif</option>\r\n\r\n\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\r\n\t\t\t\t\t\t\t<label for=\"edit_aciklama\">Açıklama</label>\r\n\r\n\t\t\t\t\t\t\t<textarea class=\"form-control\" id=\"edit_aciklama\" name=\"aciklama\" rows=\"3\" placeholder=\"Numara hakkında açıklama...\"></textarea>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t<div id=\"duzenle_mesaj\"></div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"modal-footer\">\r\n\r\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">İptal</button>\r\n\r\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onclick=\"numaraGuncelle()\">\r\n\r\n\t\t\t\t\t\t<i class=\"fas fa-save mr-1\"></i> Güncelle\r\n\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\r\n\r\n\t<?php $this->load->view(\"include/footer-js\"); ?>\r\n\r\n\r\n\r\n\t<script>\r\n\r\n\t$(document).ready(function() {\r\n\r\n\t\tconsole.log('VoIP Numara Tanımla sayfası hazır');\r\n\r\n\t\t\r\n\r\n\t\t// Form submit\r\n\r\n\t\t$('#numaraForm').on('submit', function(e) {\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tnumaraEkle();\r\n\r\n\t\t});\r\n\r\n\t});\r\n\r\n\r\n\r\n\tfunction numaraEkle() {\r\n\r\n\t\tvar formData = $('#numaraForm').serialize();\r\n\r\n\t\t\r\n\r\n\t\t$('#mesaj').html('<div class=\"alert alert-info\"><i class=\"fas fa-spinner fa-spin\"></i> İşlem yapılıyor...</div>');\r\n\r\n\t\t\r\n\r\n\t\t$.ajax({\r\n\r\n\t\t\turl: '<?= base_url(\"voip/numara_ekle\") ?>',\r\n\r\n\t\t\ttype: 'POST',\r\n\r\n\t\t\tdata: formData,\r\n\r\n\t\t\tdataType: 'json',\r\n\r\n\t\t\tsuccess: function(response) {\r\n\r\n\t\t\t\tif(response.success) {\r\n\r\n\t\t\t\t\t$('#mesaj').html('<div class=\"alert alert-success\"><i class=\"fas fa-check-circle\"></i> ' + response.message + '</div>');\r\n\r\n\t\t\t\t\t$('#numaraForm')[0].reset();\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\tlocation.reload();\r\n\r\n\t\t\t\t\t}, 1500);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t$('#mesaj').html('<div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-circle\"></i> ' + response.message + '</div>');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\terror: function(xhr, status, error) {\r\n\r\n\t\t\t\tconsole.error('AJAX Error:', error);\r\n\r\n\t\t\t\t$('#mesaj').html('<div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-triangle\"></i> Bir hata oluştu. Lütfen tekrar deneyin.</div>');\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\r\n\tfunction duzenleModal(numara_id) {\r\n\r\n\t\t$('#duzenle_mesaj').html('');\r\n\r\n\t\t\r\n\r\n\t\t$.ajax({\r\n\r\n\t\t\turl: '<?= base_url(\"voip/numara_getir\") ?>',\r\n\r\n\t\t\ttype: 'POST',\r\n\r\n\t\t\tdata: { numara_id: numara_id },\r\n\r\n\t\t\tdataType: 'json',\r\n\r\n\t\t\tsuccess: function(response) {\r\n\r\n\t\t\t\tif(response.success) {\r\n\r\n\t\t\t\t\t$('#edit_numara_id').val(response.data.numara_id);\r\n\r\n\t\t\t\t\t$('#edit_operator_id').val(response.data.operator_id);\r\n\r\n\t\t\t\t\t$('#edit_voip_numara').val(response.data.voip_numara);\r\n\r\n\t\t\t\t\t$('#edit_kullanici_adi').val(response.data.kullanici_adi);\r\n\r\n\t\t\t\t\t$('#edit_sifre').val(response.data.sifre);\r\n\r\n\t\t\t\t\t$('#edit_ip_adresi').val(response.data.ip_adresi);\r\n\r\n\t\t\t\t\t$('#edit_durum').val(response.data.durum || 1);\r\n\r\n\t\t\t\t\t$('#edit_aciklama').val(response.data.aciklama || '');\r\n\r\n\t\t\t\t\t$('#duzenleModal').modal('show');\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\talert('Numara bilgileri alınamadı: ' + response.message);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\terror: function() {\r\n\r\n\t\t\t\talert('Bir hata oluştu. Lütfen tekrar deneyin.');\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\r\n\tfunction numaraGuncelle() {\r\n\r\n\t\tvar formData = $('#duzenleForm').serialize();\r\n\r\n\t\t\r\n\r\n\t\t$('#duzenle_mesaj').html('<div class=\"alert alert-info\"><i class=\"fas fa-spinner fa-spin\"></i> İşlem yapılıyor...</div>');\r\n\r\n\t\t\r\n\r\n\t\t$.ajax({\r\n\r\n\t\t\turl: '<?= base_url(\"voip/numara_guncelle\") ?>',\r\n\r\n\t\t\ttype: 'POST',\r\n\r\n\t\t\tdata: formData,\r\n\r\n\t\t\tdataType: 'json',\r\n\r\n\t\t\tsuccess: function(response) {\r\n\r\n\t\t\t\tif(response.success) {\r\n\r\n\t\t\t\t\t$('#duzenle_mesaj').html('<div class=\"alert alert-success\"><i class=\"fas fa-check-circle\"></i> ' + response.message + '</div>');\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\tlocation.reload();\r\n\r\n\t\t\t\t\t}, 1500);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t$('#duzenle_mesaj').html('<div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-circle\"></i> ' + response.message + '</div>');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\terror: function() {\r\n\r\n\t\t\t\t$('#duzenle_mesaj').html('<div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-triangle\"></i> Bir hata oluştu. Lütfen tekrar deneyin.</div>');\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\r\n\tfunction silOnayi(numara_id, voip_numara) {\r\n\r\n\t\tif(confirm('Bu numarayı silmek istediğinizden emin misiniz?\\n\\nNumara: ' + voip_numara)) {\r\n\r\n\t\t\tnumaraSil(numara_id);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\tfunction numaraSil(numara_id) {\r\n\r\n\t\t$.ajax({\r\n\r\n\t\t\turl: '<?= base_url(\"voip/numara_sil\") ?>',\r\n\r\n\t\t\ttype: 'POST',\r\n\r\n\t\t\tdata: { numara_id: numara_id },\r\n\r\n\t\t\tdataType: 'json',\r\n\r\n\t\t\tsuccess: function(response) {\r\n\r\n\t\t\t\tif(response.success) {\r\n\r\n\t\t\t\t\talert('Numara başarıyla silindi');\r\n\r\n\t\t\t\t\tlocation.reload();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\talert('Hata: ' + response.message);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\terror: function() {\r\n\r\n\t\t\t\talert('Bir hata oluştu. Lütfen tekrar deneyin.');\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t</script>\r\n\r\n\r\n\r\n\t<?php $this->load->view(\"include/footer-js\"); ?>\r\n\r\n</body>\r\n\r\n</html>\r\n\r\n"
        }
    ]
}