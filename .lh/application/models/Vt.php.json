{
    "sourceFile": "application/models/Vt.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1759401760073,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1759401760072,
            "name": "Commit-0",
            "content": "<?php\r\n\r\n\r\n\r\nclass Vt extends CI_Model{\r\n\r\n\t\r\n\r\n\tfunction insert($from,$data=array()){\r\n\r\n\t\t$result=$this->db->insert($from,$data);\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction single($from,$where=array(),$sutun=null,$siralama=null){\r\n\r\n\t\t$result = $this->db->from($from)->where($where)->order_by($sutun,$siralama)->get()->row();\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction multiple($from,$where=array(),$sutun=null,$siralama=null){\r\n\r\n\t\t$result = $this->db->from($from)->where($where)->order_by($sutun,$siralama)->get()->result();\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction multiplelike($from,$where,$like=null,$sutun=null,$siralama=null){\r\n\r\n\t\t$result = $this->db->from($from)->like($where,$like,'both')->order_by($sutun,$siralama)->get()->result();\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction groupby($from,$where=array(),$group){\r\n\r\n\t\t$result = $this->db->from($from)->where($where)->group_by($group)->get()->result();\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction update($from,$where=array(),$data=array()){\r\n\r\n\t\t$result = $this->db->where($where)->update($from,$data);\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction del($from,$where,$id){\r\n\r\n\t\t$result = $this->db->delete($from,array($where=>$id));\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t/* public function toplam_kayit()\r\n\r\n\t{\r\n\r\n\t\treturn $this->db->count_all_results(\"products\"); // Veriler adlı tablodaki kayıt sayısını döndür\r\n\r\n\t}\r\n\r\n\r\n\r\n\tpublic function listele($limit, $start)   \r\n\r\n\t{\r\n\r\n\t\t$this->db->limit($limit, $start); // Metoda gelen parametreler ile limit değerlerini gir ve sayfalamaya göre veri getir\r\n\r\n\t\t$veriler = $this->db->from(\"product_categories\")->join('products','products.p_cat = product_categories.pc_id')->get(); // Veriler tablosunu çek\r\n\r\n\t\treturn $veriler->result();  // Sonuçları döndür\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic function listele2($limit, $start, $id)   \r\n\r\n\t{\r\n\r\n\t\t$this->db->limit($limit, $start); // Metoda gelen parametreler ile limit değerlerini gir ve sayfalamaya göre veri getir\r\n\r\n\t\t$veriler = $this->db->from(\"product_categories\")->where(\"p_cat\",$id)->join('products','products.p_cat = product_categories.pc_id')->get(); // Veriler tablosunu çek\r\n\r\n\r\n\r\n\t\treturn $veriler->result();  // Sonuçları döndür\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic function tariharaligi($from, $where, $baslangic, $bitis = null)\r\n\r\n\t{\t\r\n\r\n\t\t// echo $this->db->from(\"users\")->where(\"u_createDate BETWEEN '$baslangic' AND '$bitis'\")->count_all_results(); \r\n\r\n\t\t\r\n\r\n\t\tif($bitis == null){\r\n\r\n\t\t\t$bitis = $baslangic;\r\n\r\n\t\t}\r\n\r\n\t\t$result = $this->db->from($from)->where(\"$where BETWEEN '$baslangic' AND '$bitis'\")->count_all_results();\t\r\n\r\n\t\treturn $result;\r\n\r\n\t}*/\r\n\r\n\r\n\r\n\tpublic function getRows($params = array(), $anaHesap = null){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"cari\");\r\n\r\n        \r\n\r\n        // Ana hesap kısıtlaması sadece anaHesap null değilse uygulanır\r\n\r\n        if ($anaHesap !== null) {\r\n\r\n            $this->db->where(\"cari_olusturanAnaHesap\", $anaHesap);\r\n\r\n        }\r\n\r\n        \r\n\r\n\t\t$this->db->where(\"cari_durum\", true);\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        else if(!empty($params['searchTerm'])){\r\n\r\n\t\t\t//$like=\"(cari_tckn like '%\".$params['searchTerm'].\"%' or cari_vergiNumarasi like '%\".$params['searchTerm'].\"%' or cari_ad like '%\".$params['searchTerm'].\"%')\";\r\n\r\n\t\t\t/*$this->db->like('cari_tckn', $params['searchTerm']);\r\n\r\n\t\t\t$this->db->or_like('cari_vergiNumarasi', $params['searchTerm']);\r\n\r\n            $this->db->or_like('cari_ad', $params['searchTerm']);*/\r\n\r\n\t\t\t//$this->db->like($like);\r\n\r\n\t\t\t$this->db->like(\"cari_ad\",$params[\"searchTerm\"]);\r\n\r\n\t\t//\t$this->db->or_like(\"cari_tckn\",$params[\"searchTerm\"]);\r\n\r\n\t\t//\t$this->db->or_like(\"cari_vergiNumarasi\",$params[\"searchTerm\"]);\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('cari_ad', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('cari_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\tpublic function getRowsTCKNVKN($params = array(), $anaHesap = null){\r\n\r\n\t\t$this->db->select(\"*\");\r\n\r\n\t\t$this->db->from(\"cari\");\r\n\r\n\t\t\r\n\r\n\t\t// Ana hesap kısıtlaması sadece anaHesap null değilse uygulanır\r\n\r\n\t\tif ($anaHesap !== null) {\r\n\r\n\t\t\t$this->db->where(\"cari_olusturanAnaHesap\", $anaHesap);\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\t$this->db->where(\"cari_durum\", true);\r\n\r\n\r\n\r\n\t\tif(array_key_exists(\"conditions\",$params)){\r\n\r\n\t\t\tforeach ($params['conditions'] as $key => $value) {\r\n\r\n\t\t\t\t$this->db->where($key,$value);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\telse if(!empty($params['searchTerm'])){\r\n\r\n\t\t\t$this->db->group_start();\r\n\r\n\t\t\t$this->db->like(\"cari_tckn\",$params[\"searchTerm\"]);\r\n\r\n\t\t\t$this->db->or_like(\"cari_vergiNumarasi\",$params[\"searchTerm\"]);\r\n\r\n\t\t\t$this->db->group_end();\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t$this->db->order_by('cari_ad', 'asc');\r\n\r\n\r\n\r\n\t\tif(array_key_exists(\"id\",$params)){\r\n\r\n\t\t\t$this->db->where('cari_id',$params['id']);\r\n\r\n\t\t\t$query = $this->db->get();\r\n\r\n\t\t\t$result = $query->row_array();\r\n\r\n\t\t}else{\r\n\r\n\t\t\t$query = $this->db->get();\r\n\r\n\t\t\t$result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n\t\t}\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n    public function getRows2($params = array(), $anaHesap = null){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"cari\");\r\n\r\n        \r\n\r\n        // Ana hesap kısıtlaması sadece anaHesap null değilse uygulanır\r\n\r\n        if ($anaHesap !== null) {\r\n\r\n            $this->db->where(\"cari_olusturanAnaHesap\", $anaHesap);\r\n\r\n        }\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        if(!empty($params['searchTerm'])){\r\n\r\n            $this->db->like('cari_kodu', $params['searchTerm']);\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('cari_kodu', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('cari_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n    \r\n\r\n    public function getRows3($params = array(), $anaHesap){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"stok\");\r\n\r\n        $this->db->where(\"stok_olusturanAnaHesap\", $anaHesap);\r\n\r\n\t\t$this->db->where(\"stok_durum\", 1);\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        if(!empty($params['searchTerm'])){\r\n\r\n            $this->db->like('stok_kodu', $params['searchTerm']);\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('stok_kodu', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('stok_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n    \r\n\r\n    public function getRows4($params = array(), $anaHesap, $isAdmin = false){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"stok\");\r\n\r\n        \r\n\r\n        // Admin grupları için ana hesap kısıtlaması kaldırılıyor\r\n\r\n        if (!$isAdmin) {\r\n\r\n            $this->db->where(\"stok_olusturanAnaHesap\", $anaHesap);\r\n\r\n        }\r\n\r\n        \r\n\r\n\t\t$this->db->where(\"stok_durum\", 1);\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        if(!empty($params['searchTerm'])){\r\n\r\n            $this->db->like('stok_ad', $params['searchTerm']);\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('stok_ad', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('stok_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n\r\n\r\n    public function getRows5($params = array(), $anaHesap){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"kasa\");\r\n\r\n        $this->db->where(\"kasa_olusturanAnaHesap\", $anaHesap);\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        if(!empty($params['searchTerm'])){\r\n\r\n            $this->db->like('kasa_kodu', $params['searchTerm']);\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('kasa_kodu', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('kasa_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n\r\n\r\n    public function getRows6($params = array(), $anaHesap){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"kasa\");\r\n\r\n        $this->db->where(\"kasa_olusturanAnaHesap\", $anaHesap);\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        if(!empty($params['searchTerm'])){\r\n\r\n            $this->db->like('kasa_adi', $params['searchTerm']);\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('kasa_adi', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('kasa_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n\r\n\r\n    public function getRows7($params = array(), $anaHesap){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"banka\");\r\n\r\n        $this->db->where(\"banka_olusturanAnaHesap\", $anaHesap);\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        if(!empty($params['searchTerm'])){\r\n\r\n            $this->db->like('banka_hesapNo', $params['searchTerm']);\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('banka_hesapNo', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('banka_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n\r\n\r\n    public function getRows8($params = array(), $anaHesap){\r\n\r\n        $this->db->select(\"*\");\r\n\r\n        $this->db->from(\"banka\");\r\n\r\n        $this->db->where(\"banka_olusturanAnaHesap\", $anaHesap);\r\n\r\n\r\n\r\n        if(array_key_exists(\"conditions\",$params)){\r\n\r\n            foreach ($params['conditions'] as $key => $value) {\r\n\r\n                $this->db->where($key,$value);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        if(!empty($params['searchTerm'])){\r\n\r\n            $this->db->like('banka_bankaAd', $params['searchTerm']);\r\n\r\n        }\r\n\r\n        \r\n\r\n        $this->db->order_by('banka_bankaAd', 'asc');\r\n\r\n        \r\n\r\n        if(array_key_exists(\"id\",$params)){\r\n\r\n            $this->db->where('banka_id',$params['id']);\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = $query->row_array();\r\n\r\n        }else{\r\n\r\n            $query = $this->db->get();\r\n\r\n            $result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n        }\r\n\r\n        return $result;\r\n\r\n    }\r\n\r\n\r\n\r\n\tpublic function getRows9($params = array(), $anaHesap){\r\n\r\n\t\t$this->db->select(\"*\");\r\n\r\n\t\t$this->db->from(\"cari\");\r\n\r\n\t\t$this->db->where(\"cari_olusturanAnaHesap\", $anaHesap);\r\n\r\n\t\t$this->db->where(\"cari_EInvoiceType\", 2);\r\n\r\n\r\n\r\n\t\tif(array_key_exists(\"conditions\",$params)){\r\n\r\n\t\t\tforeach ($params['conditions'] as $key => $value) {\r\n\r\n\t\t\t\t$this->db->where($key,$value);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif(!empty($params['searchTerm'])){\r\n\r\n\t\t\t$this->db->like('cari_ad', $params['searchTerm']);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t$this->db->order_by('cari_ad', 'asc');\r\n\r\n\r\n\r\n\t\tif(array_key_exists(\"id\",$params)){\r\n\r\n\t\t\t$this->db->where('cari_id',$params['id']);\r\n\r\n\t\t\t$query = $this->db->get();\r\n\r\n\t\t\t$result = $query->row_array();\r\n\r\n\t\t}else{\r\n\r\n\t\t\t$query = $this->db->get();\r\n\r\n\t\t\t$result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n\t\t}\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\tpublic function getRowsEtiket($params = array(), $anaHesap){\r\n\r\n\t\t$this->db->select(\"*\");\r\n\r\n\t\t$this->db->from(\"etiketler\");\r\n\r\n\t\t$this->db->where(\"etiket_olusturanAnaHesap\", $anaHesap);\r\n\r\n\r\n\r\n\t\tif(array_key_exists(\"conditions\",$params)){\r\n\r\n\t\t\tforeach ($params['conditions'] as $key => $value) {\r\n\r\n\t\t\t\t$this->db->where($key,$value);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\telse if(!empty($params['searchTerm'])){\r\n\r\n\t\t\t$this->db->group_start();\r\n\r\n\t\t\t$this->db->like(\"etiket_adi\",$params[\"searchTerm\"]);\r\n\r\n\t\t\t$this->db->group_end();\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t$this->db->order_by('etiket_adi', 'asc');\r\n\r\n\r\n\r\n\t\tif(array_key_exists(\"id\",$params)){\r\n\r\n\t\t\t$this->db->where('etiket_id',$params['id']);\r\n\r\n\t\t\t$query = $this->db->get();\r\n\r\n\t\t\t$result = $query->row_array();\r\n\r\n\t\t}else{\r\n\r\n\t\t\t$query = $this->db->get();\r\n\r\n\t\t\t$result = ($query->num_rows() > 0)?$query->result_array():FALSE;\r\n\r\n\t\t}\r\n\r\n\t\treturn $result;\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"
        }
    ]
}