{
    "sourceFile": "test_kasa_hareket.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1755342118257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1755342118257,
            "name": "Commit-0",
            "content": "<?php\r\n// Kasa hareketlerini kontrol etmek için test dosyası\r\n\r\ntry {\r\n    $db = new PDO('mysql:host=localhost;dbname=ilekasoft_crmdb', 'root', '');\r\n    $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\r\n    \r\n    echo \"<h3>Kasa Hareketleri Tablosu - ID: 4683</h3>\";\r\n    \r\n    // 4683 ID'li kayıt var mı kontrol et\r\n    $stmt = $db->prepare(\"SELECT * FROM kasaHareketleri WHERE kh_id = 4683\");\r\n    $stmt->execute();\r\n    $result = $stmt->fetch(PDO::FETCH_ASSOC);\r\n    \r\n    if ($result) {\r\n        echo \"<p><strong>Kayıt bulundu:</strong></p>\";\r\n        echo \"<table border='1' cellpadding='5' cellspacing='0'>\";\r\n        foreach ($result as $key => $value) {\r\n            echo \"<tr><td><strong>$key</strong></td><td>$value</td></tr>\";\r\n        }\r\n        echo \"</table>\";\r\n    } else {\r\n        echo \"<p style='color: red;'>4683 ID'li kayıt bulunamadı!</p>\";\r\n        \r\n        // Yakın ID'ler var mı kontrol et\r\n        echo \"<h3>Yakın ID'ler:</h3>\";\r\n        $stmt2 = $db->prepare(\"SELECT kh_id, kh_belgeNumarasi, kh_giris, kh_cariID, kh_tarih FROM kasaHareketleri WHERE kh_id BETWEEN 4680 AND 4690 ORDER BY kh_id\");\r\n        $stmt2->execute();\r\n        $results2 = $stmt2->fetchAll(PDO::FETCH_ASSOC);\r\n        \r\n        if (!empty($results2)) {\r\n            echo \"<table border='1' cellpadding='5' cellspacing='0'>\";\r\n            echo \"<tr><th>KH ID</th><th>Belge No</th><th>Giriş</th><th>Cari ID</th><th>Tarih</th></tr>\";\r\n            \r\n            foreach ($results2 as $row) {\r\n                echo \"<tr>\";\r\n                echo \"<td>\" . $row['kh_id'] . \"</td>\";\r\n                echo \"<td>\" . $row['kh_belgeNumarasi'] . \"</td>\";\r\n                echo \"<td>\" . $row['kh_giris'] . \"</td>\";\r\n                echo \"<td>\" . $row['kh_cariID'] . \"</td>\";\r\n                echo \"<td>\" . $row['kh_tarih'] . \"</td>\";\r\n                echo \"</tr>\";\r\n            }\r\n            echo \"</table>\";\r\n        } else {\r\n            echo \"<p>Bu aralıkta hiç kayıt yok.</p>\";\r\n        }\r\n    }\r\n    \r\n    // Tablo yapısını da kontrol et\r\n    echo \"<h3>KasaHareketleri Tablo Yapısı:</h3>\";\r\n    $stmt3 = $db->prepare(\"DESCRIBE kasaHareketleri\");\r\n    $stmt3->execute();\r\n    $columns = $stmt3->fetchAll(PDO::FETCH_ASSOC);\r\n    \r\n    echo \"<table border='1' cellpadding='5' cellspacing='0'>\";\r\n    echo \"<tr><th>Field</th><th>Type</th><th>Null</th><th>Key</th><th>Default</th><th>Extra</th></tr>\";\r\n    foreach ($columns as $col) {\r\n        echo \"<tr>\";\r\n        echo \"<td>\" . $col['Field'] . \"</td>\";\r\n        echo \"<td>\" . $col['Type'] . \"</td>\";\r\n        echo \"<td>\" . $col['Null'] . \"</td>\";\r\n        echo \"<td>\" . $col['Key'] . \"</td>\";\r\n        echo \"<td>\" . ($col['Default'] ?: 'NULL') . \"</td>\";\r\n        echo \"<td>\" . $col['Extra'] . \"</td>\";\r\n        echo \"</tr>\";\r\n    }\r\n    echo \"</table>\";\r\n    \r\n} catch(PDOException $e) {\r\n    echo \"Veritabanı hatası: \" . $e->getMessage();\r\n}\r\n?>\r\n"
        }
    ]
}