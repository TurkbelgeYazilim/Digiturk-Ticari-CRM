{
    "sourceFile": "debug_destek_detay.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1760098282560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1760098282560,
            "name": "Commit-0",
            "content": "<?php\r\n// Destek detay debug sayfasÄ±\r\n\r\nerror_reporting(E_ALL);\r\nini_set('display_errors', 1);\r\n\r\n// Database config dosyasÄ±nÄ± direkt yÃ¼kle\r\nrequire_once 'application/config/database.php';\r\n\r\ntry {\r\n    // MySQLi baÄŸlantÄ±sÄ±\r\n    $mysqli = new mysqli($db['default']['hostname'], $db['default']['username'], $db['default']['password'], $db['default']['database']);\r\n    \r\n    if ($mysqli->connect_error) {\r\n        die('VeritabanÄ± baÄŸlantÄ± hatasÄ±: ' . $mysqli->connect_error);\r\n    }\r\n    \r\n    // Destek talebi sorgusu\r\n    $destek_id = 20352;\r\n    \r\n    $debug_info = \"DESTEK DEBUG - ID: $destek_id\\n\";\r\n    \r\n    $stmt = $mysqli->prepare(\"SELECT * FROM destek WHERE destek_id = ?\");\r\n    $stmt->bind_param(\"i\", $destek_id);\r\n    $stmt->execute();\r\n    $result = $stmt->get_result();\r\n    $talep = $result->fetch_assoc();\r\n    \r\n    if($talep) {\r\n        $debug_info .= \"âœ… Talep bulundu: \" . $talep['destek_title'] . \"\\n\";\r\n        $debug_info .= \"OluÅŸturan: \" . $talep['destek_olusturan'] . \"\\n\";\r\n        $debug_info .= \"Ana Hesap: \" . $talep['destek_olusturanAnaHesap'] . \"\\n\";\r\n        $debug_info .= \"Durum: \" . $talep['destek_status'] . \"\\n\";\r\n        \r\n        // YanÄ±tlarÄ± getir\r\n        $stmt2 = $mysqli->prepare(\"SELECT * FROM destek_yanit WHERE dyanit_destekID = ? ORDER BY dyanit_tarih ASC\");\r\n        $stmt2->bind_param(\"i\", $destek_id);\r\n        $stmt2->execute();\r\n        $result2 = $stmt2->get_result();\r\n        $yanitlar = $result2->fetch_all(MYSQLI_ASSOC);\r\n        \r\n        $debug_info .= \"ðŸ“ YanÄ±t sayÄ±sÄ±: \" . count($yanitlar) . \"\\n\";\r\n        \r\n        foreach($yanitlar as $yanit) {\r\n            $debug_info .= \"  - YanÄ±t ID: \" . $yanit['dyanit_id'] . \", Mesaj: \" . substr($yanit['dyanit_mesaj'], 0, 50) . \"...\\n\";\r\n        }\r\n        \r\n    } else {\r\n        $debug_info .= \"âŒ Talep bulunamadÄ±!\\n\";\r\n    }\r\n    \r\n    $mysqli->close();\r\n    \r\n    // Log dosyasÄ±na yaz\r\n    file_put_contents('debug_destek.log', $debug_info . \"\\n\", FILE_APPEND | LOCK_EX);\r\n    \r\n    echo \"<h2>Debug tamamlandÄ±</h2>\";\r\n    echo \"<p>SonuÃ§lar debug_destek.log dosyasÄ±na yazÄ±ldÄ±.</p>\";\r\n    echo \"<pre>$debug_info</pre>\";\r\n    \r\n} catch(Exception $e) {\r\n    echo \"Hata: \" . $e->getMessage();\r\n    file_put_contents('debug_destek.log', \"HATA: \" . $e->getMessage() . \"\\n\", FILE_APPEND | LOCK_EX);\r\n}\r\n?>"
        }
    ]
}