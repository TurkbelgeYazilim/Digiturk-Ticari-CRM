{
    "sourceFile": "debug_form_test.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1754904082237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1754904082237,
            "name": "Commit-0",
            "content": "<?php\r\n// Debug script to test form submissions\r\nerror_reporting(E_ALL);\r\nini_set('display_errors', 1);\r\n\r\n$debug_log_file = 'debug_form_test.log';\r\n$timestamp = date('Y-m-d H:i:s');\r\n\r\n// Get user agent to identify mobile devices\r\n$user_agent = isset($_SERVER['HTTP_USER_AGENT']) ? $_SERVER['HTTP_USER_AGENT'] : 'Unknown';\r\n$is_mobile = preg_match('/(android|iphone|ipad|mobile)/i', $user_agent);\r\n\r\n// Detailed debug information\r\n$debug_info = array(\r\n    'timestamp' => $timestamp,\r\n    'user_agent' => $user_agent,\r\n    'is_mobile' => $is_mobile,\r\n    'request_method' => $_SERVER['REQUEST_METHOD'],\r\n    'content_type' => isset($_SERVER['CONTENT_TYPE']) ? $_SERVER['CONTENT_TYPE'] : 'Not set',\r\n    'content_length' => isset($_SERVER['CONTENT_LENGTH']) ? $_SERVER['CONTENT_LENGTH'] : 'Not set',\r\n    'post_data_count' => count($_POST),\r\n    'post_data' => $_POST,\r\n    'files_data' => $_FILES,\r\n    'get_data' => $_GET,\r\n    'server_vars' => array(\r\n        'REQUEST_URI' => $_SERVER['REQUEST_URI'],\r\n        'HTTP_HOST' => $_SERVER['HTTP_HOST'],\r\n        'HTTP_REFERER' => isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : 'Not set'\r\n    )\r\n);\r\n\r\n// Log to file\r\n$log_entry = $timestamp . \" [FORM_DEBUG] \" . json_encode($debug_info, JSON_PRETTY_PRINT) . \"\\n\\n\";\r\nfile_put_contents($debug_log_file, $log_entry, FILE_APPEND | LOCK_EX);\r\n\r\n// Return JSON response for AJAX requests\r\nif (isset($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) === 'xmlhttprequest') {\r\n    header('Content-Type: application/json');\r\n    echo json_encode(array(\r\n        'success' => true,\r\n        'message' => 'Form data received and logged',\r\n        'debug_info' => $debug_info\r\n    ));\r\n} else {\r\n    // Regular form submission\r\n    echo \"<h1>Form Debug Test</h1>\";\r\n    echo \"<p>Form data has been logged to debug_form_test.log</p>\";\r\n    echo \"<h2>Debug Information:</h2>\";\r\n    echo \"<pre>\" . json_encode($debug_info, JSON_PRETTY_PRINT) . \"</pre>\";\r\n    \r\n    if ($_SERVER['REQUEST_METHOD'] === 'GET') {\r\n        // Show test form\r\n        echo '\r\n        <h2>Test Form</h2>\r\n        <form action=\"debug_form_test.php\" method=\"POST\" enctype=\"multipart/form-data\">\r\n            <p>\r\n                <label>Name: <input type=\"text\" name=\"test_name\" required></label>\r\n            </p>\r\n            <p>\r\n                <label>Email: <input type=\"email\" name=\"test_email\" required></label>\r\n            </p>\r\n            <p>\r\n                <label>Phone: <input type=\"tel\" name=\"test_phone\"></label>\r\n            </p>\r\n            <p>\r\n                <label>File: <input type=\"file\" name=\"test_file\"></label>\r\n            </p>\r\n            <p>\r\n                <button type=\"submit\">Submit Test Form</button>\r\n            </p>\r\n        </form>\r\n        \r\n        <h3>Instructions:</h3>\r\n        <p>1. Fill out this form on your mobile device</p>\r\n        <p>2. Submit the form</p>\r\n        <p>3. Check the debug_form_test.log file to see what data was received</p>\r\n        ';\r\n    }\r\n}\r\n?>\r\n"
        }
    ]
}